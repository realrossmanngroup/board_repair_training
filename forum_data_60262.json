[
    {
        "post_id":67344,
        "thread_id":60262,
        "title":"820-00923 - Kernel panic and error DSB0 Thunderbolt power on failed during sleep",
        "user_id":803,
        "username":"SoloHarty",
        "post_date":"2020-10-31 09:10:51",
        "message":"Another 820-00923 that had severe liquid damage. I had to replace the thunderbolt controller chips, the U7000 charging IC and remove a short circuit on PPBUS_G3H to get it working. It works great when it isn't in sleep mode or trying to update. I am actually typing this message from this board.\n\nThe board charges absolutely fine from all ports but when the Mac is sleeping it will randomly kernel panic and come back reporting the main error \"DSB0 Thunderbolt power on failed\". I also find that if I am updating the MacOS it will reboot to a black screen where the trackpad clicks but nothing on screen. If I leave it running it doesn't update and I have to perform a hard reset (SMC reset or holding down power button) to boot it again where it will update as normal like nothing ever happened.\n\nAnyone came across the kernel panic issue before? I am positive they are related.\n\nThanks"
    },
    {
        "post_id":67345,
        "thread_id":60262,
        "title":"820-00923 - Kernel panic and error DSB0 Thunderbolt power on failed during sleep",
        "user_id":803,
        "username":"SoloHarty",
        "post_date":"2020-10-31 09:20:52",
        "message":"The Mac went to sleep and kernel panicked again. Full report below:\n\npanic(cpu 0 caller 0xffffff802141705a): \"DSB0(MacBookPro14,2): thunderbolt power on failed 0x15788086\\n\"@\/AppleInternal\/BuildRoot\/Library\/Caches\/com.apple.xbs\/Sources\/IOPCIFamily\/IOPCIFamily-428.40.7\/IOPCIBridge.cpp:1428\nBacktrace (CPU 0), Frame : Return Address\n0xffffffb096773960 : 0xffffff801eab76dd\n0xffffffb0967739b0 : 0xffffff801ebfa0e3\n0xffffffb0967739f0 : 0xffffff801ebea71a\n0xffffffb096773a40 : 0xffffff801ea5ca2f\n0xffffffb096773a60 : 0xffffff801eab6f7d\n0xffffffb096773b80 : 0xffffff801eab7268\n0xffffffb096773bf0 : 0xffffff801f2b9c9a\n0xffffffb096773c60 : 0xffffff802141705a\n0xffffffb096773c80 : 0xffffff80213fd70f\n0xffffffb096773ce0 : 0xffffff80213fd8c2\n0xffffffb096773d20 : 0xffffff80213fda6b\n0xffffffb096773d60 : 0xffffff80213fdc41\n0xffffffb096773d80 : 0xffffff80213fbdc2\n0xffffffb096773dd0 : 0xffffff8021406aff\n0xffffffb096773df0 : 0xffffff801f1f7ef1\n0xffffffb096773e60 : 0xffffff801f1f7c8a\n0xffffffb096773e80 : 0xffffff801eafc3b5\n0xffffffb096773ef0 : 0xffffff801eafd2c4\n0xffffffb096773fa0 : 0xffffff801ea5c13e\n      Kernel Extensions in backtrace:\n         com.apple.iokit.IOPCIFamily(2.9)[4A059818-C93E-3144-9A9A-DDB4A59F9990]@0xffffff80213f4000->0xffffff802141bfff\n\nProcess name corresponding to current thread: kernel_task\n\nMac OS version:\n20B5012d\n\nKernel version:\nDarwin Kernel Version 20.1.0: Sat Oct 24 21:21:05 PDT 2020; root:xnu-7195.50.3.201.1~1\/RELEASE_X86_64\nKernel UUID: 2BA1C8BD-9C95-3FA7-B7A4-F991BB96D49C\nKernelCache slide: 0x000000001e800000\nKernelCache base:  0xffffff801ea00000\nKernel slide:      0x000000001e810000\nKernel text base:  0xffffff801ea10000\n__HIB  text base: 0xffffff801e900000\nSystem model name: MacBookPro14,2 (Mac-66E35819EE2D0D05)\nSystem shutdown begun: NO\nPanic diags file available: YES (0x0)\nHibernation exit count: 0\n\nSystem uptime in nanoseconds: 5782575171818\nLast Sleep:           absolute           base_tsc          base_nano\n  Uptime  : 0x000005425c56cc02\n  Sleep   : 0x000002fb25a6db8e 0x000029237e6badb0 0x000002f2d8f7a34c\n  Wake    : 0x000002fb3929f932 0x00002c091f42b67c 0x000002fb37450c74\nlast started kext at 5764106843035: >usb.!UUserHCI    1 (addr 0xffffff7fbe5ef000, size 98304)\nlast stopped kext at 4636655666322: >usb.!UUserHCI    1 (addr 0xffffff7fbe5ef000, size 98304)\nloaded kexts:\n>usb.!UUserHCI    1\n@filesystems.smbfs    3.4.1\n>AudioAUUC    1.70\n>!AHIDALSService    1\n>!APlatformEnabler    2.7.0d0\n>AGPM    119\n>X86PlatformShim    1.0.0\n@filesystems.autofs    3.0\n@fileutil    20.036.15\n>!AHDA    283.15\n>!A!IPCHPMC    2.0.1\n>!AUpstreamUserClient    3.6.8\n>!AGraphicsDevicePolicy    6.1.27\n>!AEmbeddedOSSupportHost    1\n@AGDCPluginDisplayMetrics    6.1.27\n>pmtelemetry    1\n>LuaHardwareAccess    1.0.16\n|IOUserEthernet    1.0.1\n|IO!BSerialManager    8.0.1f5\n@Dont_Steal_Mac_OS_X    7.0.0\n>!AHV    1\n>!A!IKBLGraphics    16.0.0\n>!ABacklight    180.3\n>!ADiskImages2    1\n>!A!ISlowAdaptiveClocking    4.0.0\n>eficheck    1\n>!A!IKBLGraphicsFramebuffer    16.0.0\n>!AThunderboltIP    4.0.3\n>!AMCCSControl    1.14\n@filesystems.apfs    1677.41.3\n@filesystems.tmpfs    1\n@filesystems.hfs.kext    556.41.1\n@BootCache    40\n@!AFSCompression.!AFSCompressionTypeZlib    1.0.0\n@!AFSCompression.!AFSCompressionTypeDataless    1.0.0d1\n>!ATopCaseHIDEventDriver    4000.27\n>AirPort.BrcmNIC    1400.1.1\n@private.KextAudit    1.0\n>!ASmartBatteryManager    161.0.0\n>!AACPIButtons    6.1\n>!ARTC    2.0\n>!ASMBIOS    2.1\n>!AACPIEC    6.1\n>!AAPIC    1.7\n@!ASystemPolicy    2.0.0\n@nke.applicationfirewall    310\n|IOKitRegistryCompatibility    1\n|EndpointSecurity    1\n@kext.triggers    1.0\n>DspFuncLib    283.15\n@kext.OSvKernDSPLib    529\n>!AGraphicsControl    6.1.27\n>X86PlatformPlugin    1.0.0\n>IOPlatformPlugin!F    6.0.0d8\n>!AHDA!C    283.15\n|IOHDA!F    283.15\n|IOAudio!F    300.6.1\n@vecLib.kext    1.2.0\n|IO!BHost!CUARTTransport    8.0.1f5\n|IO!BHost!CTransport    8.0.1f5\n|IOAVB!F    900.12\n@plugin.IOgPTPPlugin    900.11\n|IOEthernetAVB!C    1.1.0\n>!ABacklightExpert    1.1.0\n>!A!ILpssUARTv1    3.0.60\n>!A!ILpssUARTCommon    3.0.60\n>!AOnboardSerial    1.0\n|IOSerial!F    11\n|IONDRVSupport    585\n@!AGPUWrangler    6.1.27\n|IOSlowAdaptiveClocking!F    1.0.0\n|IOAccelerator!F2    439.35.4\n@!AGraphicsDeviceControl    6.1.27\n|IOGraphics!F    585\n>!ASMBus!C    1.0.18d1\n>usb.cdc.ncm    5.0.0\n>usb.!UiBridge    1.0\n>usb.cdc    5.0.0\n>usb.networking    5.0.0\n>usb.!UHostCompositeDevice    1.2\n>!AThunderboltDPInAdapter    8.1.4\n>!AThunderboltDPAdapter!F    8.1.4\n>!AThunderboltPCIDownAdapter    4.1.1\n>!AHPM    3.4.4\n>!A!ILpssI2C!C    3.0.60\n>!ABSDKextStarter    3\n|IOSurface    289.3\n@filesystems.hfs.encodings.kext    1\n>!AActuatorDriver    4400.28\n>!AHIDKeyboard    222\n>!AMultitouchDriver    4400.28\n>!AInputDeviceSupport    4400.35\n>!AHS!BDriver    4000.27\n>IO!BHIDDriver    8.0.1f5\n>!AHSSPIHIDDriver    61\n>!AHSSPISupport    61\n>!AThunderboltNHI    7.2.8\n|IOThunderbolt!F    9.3.2\n>!A!ILpssSpi!C    3.0.60\n>!A!ILpssDmac    3.0.60\n|IO80211!F    1200.12.2b1\n|IOSkywalk!F    1\n>mDNSOffloadUserClient    1.0.1b8\n>corecapture    1.0.4\n|IONVMe!F    2.1.0\n>!A!ILpssI2C    3.0.60\n>!A!ILpssGspi    3.0.60\n>usb.!UXHCIPCI    1.2\n>usb.!UXHCI    1.2\n|IOUSB!F    900.4.2\n>!AEFINVRAM    2.1\n>!AEFIRuntime    2.1\n|IOSMBus!F    1.1\n|IOHID!F    2.0.0\n$!AImage4    3.0.0\n|IOTimeSync!F    900.11\n|IONetworking!F    3.4\n>DiskImages    493.0.0\n|IO!B!F    8.0.1f5\n|IOReport!F    47\n|IO!BPacketLogger    8.0.1f5\n$quarantine    4\n$sandbox    300.0\n@kext.!AMatch    1.0.0d1\n|CoreAnalytics!F    1\n>!ASSE    1.0\n>!AKeyStore    2\n>!UTDM    511.40.9\n|IOUSBMass!SDriver    184.40.6\n|IOSCSIBlockCommandsDevice    436.40.6\n|IO!S!F    2.1\n|IOSCSIArchitectureModel!F    436.40.6\n>!AMobileFileIntegrity    1.0.5\n@kext.CoreTrust    1\n>!AFDEKeyStore    28.30\n>!AEffaceable!S    1.0\n>!ACredentialManager    1.0\n>KernelRelayHost    1\n|IOUSBHost!F    1.2\n>!UHostMergeProperties    1.2\n>usb.!UCommon    1.0\n>!ABusPower!C    1.0\n>!ASEPManager    1.0.1\n>IOSlaveProcessor    1\n>!AACPIPlatform    6.1\n>!ASMC    3.1.9\n|IOPCI!F    2.9\n|IOACPI!F    1.4\n>watchdog    1\n@kec.pthread    1\n@kec.corecrypto    1.0\n@kec.Libm    1"
    },
    {
        "post_id":67352,
        "thread_id":60262,
        "title":"820-00923 - Kernel panic and error DSB0 Thunderbolt power on failed during sleep",
        "user_id":682,
        "username":"2informaticos",
        "post_date":"2020-10-31 15:02:33",
        "message":"Possibly problem with U2800, or UB000.\nI suppose you still have corrosion affecting USB-C areas."
    },
    {
        "post_id":67362,
        "thread_id":60262,
        "title":"820-00923 - Kernel panic and error DSB0 Thunderbolt power on failed during sleep",
        "user_id":803,
        "username":"SoloHarty",
        "post_date":"2020-11-01 05:21:20",
        "message":"Ok, I reflowed U2800, UB000, U3100 and U3200. the CD3215 IC's are normally underfilled but when I got this board it was removed badly from U3100 and U3200. \n\nUB300 and UB400 have still got underfill but what I noticed is that if the board is out of the housing, it's stuck at 5V and restarting BUT if I press down on UB400 (still underfilled) then the board gets 20V consistently and turns on. Once it's on it stays on but if I unplug and let it rest for a second, it goes back to being stuck at 5V again UNTIL I press on UB400 again. \n\nWhat I'm thinking is either a cold or damaged ball in the underfill and that could be causing all my issues. Definitely the kernel panic but most likely the issue with updates rebooting to a black screen too.\n\nSounds like I will have to dig UB300 and UB400 out and reball them. Ugh."
    },
    {
        "post_id":67367,
        "thread_id":60262,
        "title":"820-00923 - Kernel panic and error DSB0 Thunderbolt power on failed during sleep",
        "user_id":682,
        "username":"2informaticos",
        "post_date":"2020-11-01 06:52:59",
        "message":"Puah, not an easy job.\nI hate these underfilled boards..."
    },
    {
        "post_id":67442,
        "thread_id":60262,
        "title":"820-00923 - Kernel panic and error DSB0 Thunderbolt power on failed during sleep",
        "user_id":803,
        "username":"SoloHarty",
        "post_date":"2020-11-03 12:10:17",
        "message":"ok, reballed UB300 and UB400. Still the same issue. I've found I don't need a lot of pressure at all to make it get 20V but I have also noticed that while all 4 ports charge when the Mac is on, only the left side gets USB activity. Could this still be CD3215 issues?"
    },
    {
        "post_id":67657,
        "thread_id":60262,
        "title":"820-00923 - Kernel panic and error DSB0 Thunderbolt power on failed during sleep",
        "user_id":803,
        "username":"SoloHarty",
        "post_date":"2020-11-08 12:32:01",
        "message":"SOLVED! (I think). \n\nRB090 which connects PP3V3_UPC_TA_LDO and TBT_ T_ROM_HOLD_L was hanging on by a thread. No corrosion near it but I must've been putting just enough flex on the board for it to start up. Replaced and now I'm getting 20v correctly and consistently. Wish I noticed that before reballing UB300\/UB400!!\n\nNow to just see if I get any more kernel panics and if it updates correctly without me habing to give it a hard reset."
    }
]