{"post_id":83644,"thread_id":62076,"title":"820-00840 with backlight problem and low PP5V_S0 resistance to ground","user_id":28264,"username":"sekidata","post_date":"2021-12-11 13:10:11","message":"This 2017 MacBook Pro board came with a dark screen and liquid damage in the backlight circuity area. I found a shorted cap (C4811) which I replaced. The backlight came on for a few days, then died again. I've replaced U8400 and checked all resistors and traces in that area. Machine boots and backlight enable signal is present. Still no backlight.\n\nThen I found that PP5V_S0, which supplies U8400, has a low resistance to ground (95 ohms; 0.09 V in diode mode); a good board shows 5+ kohms on this rail. I'm having a hard time figuring out where this partial short is located, since injecting 5 V only gets 0.1 A flowing and nothing heats up. Any way to pinpoint the culprit?"}
{"post_id":83650,"thread_id":62076,"title":"820-00840 with backlight problem and low PP5V_S0 resistance to ground","user_id":682,"username":"2informaticos","post_date":"2021-12-11 18:20:21","message":"If machine boots and have external video and USB activity, then must be a problem with internal video.\nIf gets image on internal LCD, then go straight to backlight circuit.\nCheck anything backlight related connected to 5V_S0 rail; remove one by one, until find the culprit."}
{"post_id":83682,"thread_id":62076,"title":"820-00840 with backlight problem and low PP5V_S0 resistance to ground","user_id":28264,"username":"sekidata","post_date":"2021-12-12 18:32:04","message":"Ok, I resolved the short on PP5V_S0 by replacing U8400 a second time (it now measures 0.43 V in diode mode. However, the backlight is still nonfunctional.\n\nI verified that the machine boots and gets an image on internal and external display. BLKT_EN is 3.3 V but there is no output from U8400 at all. The only other observation is that the SCL and SDA data line voltages drop from 5.1 to 4.5 V as soon as BKLT_EN turns on."}
{"post_id":83688,"thread_id":62076,"title":"820-00840 with backlight problem and low PP5V_S0 resistance to ground","user_id":682,"username":"2informaticos","post_date":"2021-12-13 03:57:50","message":"That may be sign of I2C bus activity; better to check with o-scope.\nCheck all resistors and traces connected to U8400.\nPost Q8400 voltages.\n\nDid you try known good LCD assembly?"}
{"post_id":83730,"thread_id":62076,"title":"820-00840 with backlight problem and low PP5V_S0 resistance to ground","user_id":28264,"username":"sekidata","post_date":"2021-12-13 22:24:53","message":"Yes, I'm using a known good display. There were burnt vias around U8400 pins 9 and 10 and I had to run wires from those pins to R8400.\nBelow are the Q8400 and U8400 voltages. \n\nQ8400:\npin 3: 12.6V\npin 4: 13.1V\npin 1,2,5,6: <2V\n\nU8400:\npin 1,2: 0.3V \npin 4: 0.0V\npin 5: 5.1V\npin 9,10: 13.1V\npin 11: 12.4V\npin 12: 0.0V\npin 15,16: 4.5V\npin 17: 3.3V\npin 18: 5.1V\npin 19: 0.2V\npin 21: 0.0V"}
{"post_id":83740,"thread_id":62076,"title":"820-00840 with backlight problem and low PP5V_S0 resistance to ground","user_id":682,"username":"2informaticos","post_date":"2021-12-14 04:12:01","message":"Backlight adjust is done through I2C bus (BKLT_SCL\/SDA lines); is not sufficient to get enable signal.\nThe information sends by PCH (PWM) passes through LCD T-CON before arriving to U8400 (after conversion to I2C).\nYou may have other traces, or components damaged around U8400.\n\nCheck if EDP_BKLT_PWM is present at least."}
{"post_id":83761,"thread_id":62076,"title":"820-00840 with backlight problem and low PP5V_S0 resistance to ground","user_id":28264,"username":"sekidata","post_date":"2021-12-14 14:06:41","message":"EDP_BKLT_PWM is 2.5V. \n\nMy understanding of the PWM for these displays is limited. Can you explain the PCH - LCD - U8400 connectivity some more? Is the LCD T-CON the board on the display itself? Does the PCH send info to the LCD via EDP_BKLT_PWM and the LCD then sends info to U8400 on the I2C_BKLT data lines?"}
{"post_id":83765,"thread_id":62076,"title":"820-00840 with backlight problem and low PP5V_S0 resistance to ground","user_id":682,"username":"2informaticos","post_date":"2021-12-14 16:27:44","message":"Is exactly as you wrote."}
{"post_id":83772,"thread_id":62076,"title":"820-00840 with backlight problem and low PP5V_S0 resistance to ground","user_id":28264,"username":"sekidata","post_date":"2021-12-14 16:48:07","message":"I'm at a loss as to where else to look. Here's what I have:\n\nI verified that BKLT_SCL and BKLT_SDA are both connected to the T-CON board. \nBoth data lines are pulsing (although at a higher frequency than on a known good board). \nI verified that EDP_BKLT_PWM is between 2.5 and 3.3 V and connected to J8500.\nI have tried 3 displays and 2 different display cables."}
{"post_id":83792,"thread_id":62076,"title":"820-00840 with backlight problem and low PP5V_S0 resistance to ground","user_id":682,"username":"2informaticos","post_date":"2021-12-15 06:09:04","message":"Then must be some traces, or other components affected by liquid on the backlight circuitry.\nLeakage between backlight output to data lines is very dangerous."}
{"post_id":83812,"thread_id":62076,"title":"820-00840 with backlight problem and low PP5V_S0 resistance to ground","user_id":28264,"username":"sekidata","post_date":"2021-12-15 12:09:06","message":"How important is the sense resistor R8400? That's where I had burnt traces. Under what R8400 conditions would U8400 refuse to activate? How can I test it?"}
{"post_id":83816,"thread_id":62076,"title":"820-00840 with backlight problem and low PP5V_S0 resistance to ground","user_id":682,"username":"2informaticos","post_date":"2021-12-15 14:32:04","message":"Check continuity from R8400 to U5450.\nPost C5459 voltage."}
{"post_id":83818,"thread_id":62076,"title":"820-00840 with backlight problem and low PP5V_S0 resistance to ground","user_id":28264,"username":"sekidata","post_date":"2021-12-15 15:00:21","message":"U5450 and C5459 are NOSTUFF on this model."}
{"post_id":83821,"thread_id":62076,"title":"820-00840 with backlight problem and low PP5V_S0 resistance to ground","user_id":682,"username":"2informaticos","post_date":"2021-12-15 15:48:14","message":"R8400 must be 0 ohm then; direct trace on the board, I suppose."}
{"post_id":83832,"thread_id":62076,"title":"820-00840 with backlight problem and low PP5V_S0 resistance to ground","user_id":28264,"username":"sekidata","post_date":"2021-12-15 17:33:56","message":"Yup, it is. I also replaced R8400 to no effect.\n\nI'm giving up on this board - sometime you just have to accept that a deep mystery remains."}
