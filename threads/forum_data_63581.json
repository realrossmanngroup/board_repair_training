[
    {
        "post_id":96491,
        "thread_id":63581,
        "title":"820-00923 No SSD when battery is connected",
        "user_id":7922,
        "username":"tcampbell34",
        "post_date":"2023-02-08 14:31:15",
        "message":"I got a 820-00923 that originally did not turn on at all. PP3V3_G3H was shorted to ground and I found corrosion on CB300. I removed CB300 and the short was gone. Replaced CB300 and now diode mode was around .360 on pp3v3_g3h and it turned on. I originally tested it without the battery and it booted to the OS, and everything was working fine. Then I connected the battery and all of a sudden, it does not boot to the OS anymore, and instead I get a flashing folder on the screen. I compared voltages on the connections on J9600 with and without the battery, and the only difference is the CLKREQ signal is low when the battery is connected, but high when its not connected. The rest of the board looks cleans, so not sure what could case this. I tried 3 different batteries and got the same problem with all of them, so its definitely a board issue.\n\n[TABLE]\n[TR]\n[TD][B]Without Battery[\/B][\/TD]\n[TD][\/TD]\n\n[TD][\/TD]\n\n[TD][\/TD]\n\n[TD][\/TD]\n[\/TR]\n[TR]\n[TD]PP5V_S4[\/TD]\n\n[TD][RIGHT]5.14v[\/RIGHT][\/TD]\n\n[TD][\/TD]\n\n[TD]PP5V_S4_P2V7NAND_LB[\/TD]\n\n[TD][RIGHT]5.13v[\/RIGHT][\/TD]\n[\/TR]\n[TR]\n[TD]SSD_BOOT_L[\/TD]\n\n[TD][RIGHT]1.762v[\/RIGHT][\/TD]\n\n[TD][\/TD]\n\n[TD]SSD_BOOT_LB_L[\/TD]\n\n[TD][RIGHT]1.733v[\/RIGHT][\/TD]\n[\/TR]\n[TR]\n[TD]SSD_PWR_EN_L[\/TD]\n\n[TD][RIGHT]0v[\/RIGHT][\/TD]\n\n[TD][\/TD]\n\n[TD]SSD_PWR_EN_LB_L[\/TD]\n\n[TD][RIGHT]0v[\/RIGHT][\/TD]\n[\/TR]\n[TR]\n[TD]STORAGE_EN[\/TD]\n\n[TD][RIGHT]3.327v[\/RIGHT][\/TD]\n\n[TD][\/TD]\n\n[TD]STORAGE_LB_EN[\/TD]\n\n[TD][RIGHT]3.329v[\/RIGHT][\/TD]\n[\/TR]\n[TR]\n[TD]SSD_RESET_L[\/TD]\n\n[TD][RIGHT]3.3v[\/RIGHT][\/TD]\n\n[TD][\/TD]\n\n[TD]SSD_RESET_LB_L[\/TD]\n\n[TD][RIGHT]3.28v[\/RIGHT][\/TD]\n[\/TR]\n[TR]\n[TD]SSD_CLKREQ_L[\/TD]\n\n[TD][RIGHT]3.32v[\/RIGHT][\/TD]\n\n[TD][\/TD]\n\n[TD]SSD_PCIE_CLKREQ_LB_L[\/TD]\n\n[TD][RIGHT]3.3v[\/RIGHT][\/TD]\n[\/TR]\n[TR]\n[TD]SSD_SR_EN_L[\/TD]\n\n[TD][RIGHT]3.292v[\/RIGHT][\/TD]\n\n[TD][\/TD]\n\n[TD]LPSR_EN_LB_L[\/TD]\n\n[TD][RIGHT]3.25v[\/RIGHT][\/TD]\n[\/TR]\n[TR]\n[TD]PP3V3_S5[\/TD]\n\n[TD][RIGHT]3.358v[\/RIGHT][\/TD]\n\n[TD][\/TD]\n\n[TD]PP3V3_S5_SSD_LB[\/TD]\n\n[TD][RIGHT]3.3v[\/RIGHT][\/TD]\n[\/TR]\n[TR]\n[TD][\/TD]\n\n[TD][\/TD]\n\n[TD][\/TD]\n\n[TD][\/TD]\n\n[TD][\/TD]\n[\/TR]\n[TR]\n[TD][B]With Battery[\/B][\/TD]\n[TD][\/TD]\n\n[TD][\/TD]\n\n[TD][\/TD]\n\n[TD][\/TD]\n[\/TR]\n[TR]\n[TD]PP5V_S4[\/TD]\n\n[TD][RIGHT]5.14v[\/RIGHT][\/TD]\n\n[TD][\/TD]\n\n[TD]PP5V_S4_P2V7NAND_LB[\/TD]\n\n[TD][RIGHT]5.13v[\/RIGHT][\/TD]\n[\/TR]\n[TR]\n[TD]SSD_BOOT_L[\/TD]\n\n[TD][RIGHT]1.762v[\/RIGHT][\/TD]\n\n[TD][\/TD]\n\n[TD]SSD_BOOT_LB_L[\/TD]\n\n[TD][RIGHT]1.77v[\/RIGHT][\/TD]\n[\/TR]\n[TR]\n[TD]SSD_PWR_EN_L[\/TD]\n\n[TD][RIGHT]0v[\/RIGHT][\/TD]\n\n[TD][\/TD]\n\n[TD]SSD_PWR_EN_LB_L[\/TD]\n\n[TD][RIGHT]0v[\/RIGHT][\/TD]\n[\/TR]\n[TR]\n[TD]STORAGE_EN[\/TD]\n\n[TD][RIGHT]3.327v[\/RIGHT][\/TD]\n\n[TD][\/TD]\n\n[TD]STORAGE_LB_EN[\/TD]\n\n[TD][RIGHT]3.329v[\/RIGHT][\/TD]\n[\/TR]\n[TR]\n[TD]SSD_RESET_L[\/TD]\n\n[TD][RIGHT]3.3v[\/RIGHT][\/TD]\n\n[TD][\/TD]\n\n[TD]SSD_RESET_LB_L[\/TD]\n\n[TD][RIGHT]3.3v[\/RIGHT][\/TD]\n[\/TR]\n[TR]\n[TD]SSD_CLKREQ_L[\/TD]\n\n[TD][RIGHT]95mv[\/RIGHT][\/TD]\n\n[TD][\/TD]\n\n[TD]SSD_PCIE_CLKREQ_LB_L[\/TD]\n\n[TD][RIGHT]95mv[\/RIGHT][\/TD]\n[\/TR]\n[TR]\n[TD]SSD_SR_EN_L[\/TD]\n\n[TD][RIGHT]3.292v[\/RIGHT][\/TD]\n\n[TD][\/TD]\n\n[TD]LPSR_EN_LB_L[\/TD]\n\n[TD][RIGHT]3.29v[\/RIGHT][\/TD]\n[\/TR]\n[TR]\n[TD]PP3V3_S5[\/TD]\n\n[TD][RIGHT]3.3v[\/RIGHT][\/TD]\n\n[TD][\/TD]\n\n[TD]PP3V3_S5_SSD_LB[\/TD]\n\n[TD][RIGHT]3.3v[\/RIGHT][\/TD]\n[\/TR]\n[\/TABLE]"
    },
    {
        "post_id":96492,
        "thread_id":63581,
        "title":"820-00923 No SSD when battery is connected",
        "user_id":682,
        "username":"2informaticos",
        "post_date":"2023-02-08 14:42:32",
        "message":"What is exact PPBUS_G3H w\/ and w\/o battery connected?\nIs the battery charging?\nDoes the machine turn on with battery alone (no charger)?\n\nStarting in Diagnostic mode, brings up any error (battery and charger connected)?"
    },
    {
        "post_id":96499,
        "thread_id":63581,
        "title":"820-00923 No SSD when battery is connected",
        "user_id":7922,
        "username":"tcampbell34",
        "post_date":"2023-02-08 18:00:44",
        "message":"[B]Without Battery:[\/B] PPBUS is 13.04v and the computer turns on and boots to the OS every time. I tested it, and it appears to be fully functional without the battery. When I run diagnostic, the only error is that the battery was not detected.\n\n[B]With Battery: [\/B]PPBUS is 11.19v and I get a flashing folder icon every time I try to boot to the internal drive. Battery is charging when the charger is connected and the computer will turn on and run using just the battery, but SSD is still not detected with just the battery. When I run diagnostic, I get VDH002 \"There may be a issue with a storage device\"."
    },
    {
        "post_id":96502,
        "thread_id":63581,
        "title":"820-00923 No SSD when battery is connected",
        "user_id":682,
        "username":"2informaticos",
        "post_date":"2023-02-09 00:08:40",
        "message":"Can you run USB macOS with charger and battery connected?\nIf yes, check if internal SSD appears in Disk Utility."
    },
    {
        "post_id":96518,
        "thread_id":63581,
        "title":"820-00923 No SSD when battery is connected",
        "user_id":7922,
        "username":"tcampbell34",
        "post_date":"2023-02-09 05:47:22",
        "message":"If I try and start from USB MacOS with battery, it gives me the critical software update error, since the SSD is not detected. If I boot in safe mode, it will boot to the OS and the internal SSD is not shown in disk utility at all."
    },
    {
        "post_id":96533,
        "thread_id":63581,
        "title":"820-00923 No SSD when battery is connected",
        "user_id":682,
        "username":"2informaticos",
        "post_date":"2023-02-09 10:31:16",
        "message":"Check the output level for SSDNAND and PICCOLO related sensors, from pages 55 & 57."
    },
    {
        "post_id":96554,
        "thread_id":63581,
        "title":"820-00923 No SSD when battery is connected",
        "user_id":7922,
        "username":"tcampbell34",
        "post_date":"2023-02-09 16:10:52",
        "message":"ISNS_PICCOLO_IOUT - 0.002v\nSMC_PICCOLO_ISENSE - 1.2mv\nISNS_SSDNAND_IOUT - 0.005v\nSMC_SSDNAND_ISENSE - 2mv"
    },
    {
        "post_id":96555,
        "thread_id":63581,
        "title":"820-00923 No SSD when battery is connected",
        "user_id":682,
        "username":"2informaticos",
        "post_date":"2023-02-09 16:52:40",
        "message":"Same values w\/ and w\/o working SSD?"
    },
    {
        "post_id":96561,
        "thread_id":63581,
        "title":"820-00923 No SSD when battery is connected",
        "user_id":7922,
        "username":"tcampbell34",
        "post_date":"2023-02-10 05:46:21",
        "message":"Those values were with the SSD not working. I went to check them without the battery and all of a sudden the board was stuck at 5v again. Found UB300 died, so I had to replace that to get 20v back. After replacing UB300, the board turns on again, but now I get flashing folder all the time, with or without the battery.  SSD_CLKREQ_L is stuck at 95mv instead of 3.3v"
    },
    {
        "post_id":96633,
        "thread_id":63581,
        "title":"820-00923 No SSD when battery is connected",
        "user_id":7922,
        "username":"tcampbell34",
        "post_date":"2023-02-14 08:18:04",
        "message":"Now I started to get intermittent voltages on the SSD power rails. I removed U9300 and found some dirt\/corrosion under it. I replaced it twice with chips from donor boards, and both times I get 0v on all the SSD rails now. It appears U9300 is being enabled, but not sure what could be the issue. \n\nPPVIN_2V7NAND_LB - 13.01v\nPP3V3_S5_SSD - 3.3v\nPP3V3_2V7_NAND_VCC - 0v\nPP0V9_SSD_FIXED - 0v\nPP0V9_SSD_REG - 0v\nPP1V2_SSD_HOT - 0v\nPP1V2_SSD_COLD - 0v\nPP1V8_SSD_COLD - 0v\n\nPP5V_S4_P2V7NAND_LB - 5.04v\nLPSR_EN_LB_L - 3.3v\nSTORAGE_LB_EN - 3.3v\nSSD_RESET_LB_L - 3.3v\nPD_L - 3.3v\nSSD_PCIE_CLKREQ_LB_L - 3.3v\nSSD_PWR_EN_LB_L - 0v\nSSD_BOOT_LB_L - 1.77V"
    },
    {
        "post_id":96637,
        "thread_id":63581,
        "title":"820-00923 No SSD when battery is connected",
        "user_id":682,
        "username":"2informaticos",
        "post_date":"2023-02-14 09:34:19",
        "message":"Check diode mode to ground on SSD power rails.\nBe sure to get good solders at U9300."
    },
    {
        "post_id":96651,
        "thread_id":63581,
        "title":"820-00923 No SSD when battery is connected",
        "user_id":7922,
        "username":"tcampbell34",
        "post_date":"2023-02-14 11:42:54",
        "message":"I am sure I soldered it properly.\n\nPP3V3_2V7_NAND_VCC - .336\nPP0V9_SSD_FIXED - .296\nPP0V9_SSD_REG - .245\nPP1V2_SSD_HOT - .307\nPP1V2_SSD_COLD - .279\nPP1V8_SSD_COLD - .294 \nPP1V8_SSD_HOT - .370"
    },
    {
        "post_id":96654,
        "thread_id":63581,
        "title":"820-00923 No SSD when battery is connected",
        "user_id":682,
        "username":"2informaticos",
        "post_date":"2023-02-14 14:27:43",
        "message":"Looks like U9300 problem.\nIf chip is good, then check for knocked off components, or broken traces."
    },
    {
        "post_id":96668,
        "thread_id":63581,
        "title":"820-00923 No SSD when battery is connected",
        "user_id":7922,
        "username":"tcampbell34",
        "post_date":"2023-02-15 08:27:21",
        "message":"I checked diode mode values on all of the pads for U9300 with a donor board and it seems I have a broken trace on pin 19 of U9300, S3X_PFN. That pad is .456 on a donor board, but OL on this board, so it not connected to U8600. That was the only issue I found. Would that signal cause U9300 to not generate any of its power rails?"
    },
    {
        "post_id":96684,
        "thread_id":63581,
        "title":"820-00923 No SSD when battery is connected",
        "user_id":682,
        "username":"2informaticos",
        "post_date":"2023-02-15 13:44:19",
        "message":"Not sure what that signal means.\nYou should try to recover the trace somehow..."
    },
    {
        "post_id":98308,
        "thread_id":63581,
        "title":"820-00923 No SSD when battery is connected",
        "user_id":7922,
        "username":"tcampbell34",
        "post_date":"2023-04-11 10:19:49",
        "message":"I got some free time to look into this again and decided to remove U8600 from the board. There is continuity between the pads for S3X_PFN, so the trace was not broken. I think U8600 had some broken solder balls under it though, so some signals were probably not connected. I reballed U8600 and re soldered it to the board and that trace shows a good diode mode value now. Replaced U9300 again, but still had no SSD voltages. That's when I found PICCOLO_IUVD is 0v instead of 1.8v. R9350 was getting 13v from PPBUS but was not creating the 1.8v for some reason. The resistors seemed to measure correctly, but I replaced R9350, R9351 and C9362 anyway, and now the SSD is working well!"
    }
]