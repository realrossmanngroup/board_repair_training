{"post_id":73213,"thread_id":60937,"title":"820-00875 CPU overheats with battery connected","user_id":7922,"username":"tcampbell34","post_date":"2021-03-17 22:20:34","message":"I got an 820-00875 that is not liquid damaged but it overheats and shuts down randomly. I can boot the computer into the OS and it will works ok as long as I don't do anything that uses a lot of CPU power. Once the CPU gets up to like 30% or more, the CPU temps start going up and the computer will eventually reboot itself, or kernel panic. I figured out it only happens when the battery is connected though. If I unplug the battery, it works normally and does not overheat. I attached 2 screen shots from the CPU stress test app. One shows the test with the battery connected, and then other is the same test without the battery. You can see the CPU gets to over 90 Celsius after just a minute of the test, and it is only set to use 50% of the CPU. Without the battery, all temperatures stay low. I have tested the board in another case with a good battery, and same issue. The board is spotless so I am not sure where to look at what would be causing this. \n\n[ATTACH]59767[\/ATTACH] [ATTACH]59768[\/ATTACH]"}
{"post_id":73232,"thread_id":60937,"title":"820-00875 CPU overheats with battery connected","user_id":682,"username":"2informaticos","post_date":"2021-03-18 09:09:43","message":"Did PRAM reset?\nTry another macOS installation, eventually USB one."}
{"post_id":73261,"thread_id":60937,"title":"820-00875 CPU overheats with battery connected","user_id":7922,"username":"tcampbell34","post_date":"2021-03-18 13:43:20","message":"Yes I did a PRAM reset but it did not help. I have also tried another internal SSD and booted from and external drive and it still does the same thing."}
{"post_id":73264,"thread_id":60937,"title":"820-00875 CPU overheats with battery connected","user_id":1057,"username":"piernov","post_date":"2021-03-18 13:52:23","message":"Nothing wrong with 90\u00b0C. If CPU stays at 100\u00b0C or above with fan at full speed under load, then you have a problem. If it stays below 100\u00b0C then everything is fine with cooling system.\nYou can use Intel Power Gadget to monitor CPU temp, usage and frequency to see the boosting behaviour on battery and when AC adapter is connected."}
{"post_id":73265,"thread_id":60937,"title":"820-00875 CPU overheats with battery connected","user_id":682,"username":"2informaticos","post_date":"2021-03-18 13:55:01","message":"I saw you get two 128 temps, even without battery.\nCompare these values with a good working board."}
{"post_id":73266,"thread_id":60937,"title":"820-00875 CPU overheats with battery connected","user_id":29628,"username":"Askaleto","post_date":"2021-03-18 14:01:52","message":"It is very interesting to see that at 90 \u00b0C, fan is still below 2000 rpm. Is this normal on Macbook pro? Doesn't seem like it is."}
{"post_id":73268,"thread_id":60937,"title":"820-00875 CPU overheats with battery connected","user_id":1057,"username":"piernov","post_date":"2021-03-18 14:32:50","message":"The fan profiles are always very conservative on MacBooks so the fan only runs at full speed if it gets close to throttling."}
{"post_id":73277,"thread_id":60937,"title":"820-00875 CPU overheats with battery connected","user_id":7922,"username":"tcampbell34","post_date":"2021-03-18 18:44:50","message":"The two temps that are at 128 Celsius are normal for this board model. The fans do start to spin faster after 2 or 3 minutes, but it never gets up to full speed or even above 3000 rpm. I don't think the issue is with the cooling system, but there is definitely some issue with the battery connected that causes the CPU to get hotter then usual. I tried to install Big Sur with the battery connected and the CPU gets really really hot, to where I will burn my finger if I keep my finger there even for a second. The computer will also reboot constantly during the install or sometimes kernel panic, and then it starts again back at 29 minutes remaining. I have only made it to like 22 minutes remaining with the battery connected before it reboots itself. Without the battery connected, the install runs fine and the CPU does not really get that hot. I can hold my finger on the heatsink for multiple seconds without burning my finger. Shouldn't the CPU basically be the same temp with or without the battery installed?"}
{"post_id":73279,"thread_id":60937,"title":"820-00875 CPU overheats with battery connected","user_id":682,"username":"2informaticos","post_date":"2021-03-18 18:58:21","message":"CPU clock should be different.\nIt probably run faster with both charger and battery connected.\nHowever, the mentioned behaviour is not normal.\nMachine shouldn't restart in that way.\nTry known good BIOS, clean ME."}
{"post_id":73284,"thread_id":60937,"title":"820-00875 CPU overheats with battery connected","user_id":1057,"username":"piernov","post_date":"2021-03-19 05:41:56","message":"When the battery is disconnected inside a MacBook, in general the CPU cannot use Turbo Boost. Even worse, it may be throttled below the base frequency. Intel Power Gadget should make it clear if boost is working or not.\n\nIf the machine crashes only when hitting boost clock, there's probably a power delivery issue to the CPU (for example one phase not working properly or too much ripple) or the CPU is dying."}
{"post_id":73300,"thread_id":60937,"title":"820-00875 CPU overheats with battery connected","user_id":7922,"username":"tcampbell34","post_date":"2021-03-19 10:59:44","message":"I have tried a good BIOS with Clean ME but its still the same. I cannot install the OS with the battery connected. It just reboots and restarts the install. The computer will run from my external SSD and everything seems fine, but it does randomly still reboot or kernel panic only when the battery is connected. Maybe the issue is not actually the CPU overheating, but something is not right with this board. The CPU gets to 90c and then the fans kick in a little harder and it cools it down to about 80c. Here is the report I got from the last kernel panic.\n\npanic(cpu 1 caller 0xffffff80065ed0e6): Kernel trap at 0xffffff8006b8fa85, type 14=page fault, registers:\nCR0: 0x0000000080010033, CR2: 0xffffff7f8a133014, CR3: 0x000000045c6be016, CR4: 0x00000000003626e0\nRAX: 0x0000000000000000, RBX: 0xffffffa024269000, RCX: 0xffffffb0ad46b868, RDX: 0x00000000e1000000\nRSP: 0xffffffb0ad46b850, RBP: 0xffffffb0ad46b8b0, RSI: 0xffffff7f8a134000, RDI: 0xffffff8023ffdf00\nR8:  0xffffff7f8a134000, R9:  0x0000000008000000, R10: 0x0000000000024000, R11: 0x0000000000000001\nR12: 0xffffffb0ad46b958, R13: 0x0000000000000000, R14: 0xffffff7f8a133000, R15: 0x0000000003322000\nRFL: 0x0000000000010246, RIP: 0xffffff8006b8fa85, CS:  0x0000000000000008, SS:  0x0000000000000010\nFault CR2: 0xffffff7f8a133014, Error code: 0x0000000000000000, Fault CPU: 0x1, PL: 0, VF: 10\n\nBacktrace (CPU 1), Frame : Return Address\n0xffffffb0ad46b270 : 0xffffff80064b9aed\n0xffffffb0ad46b2c0 : 0xffffff80065fc6e3\n0xffffffb0ad46b300 : 0xffffff80065ecd1a\n0xffffffb0ad46b350 : 0xffffff800645ea2f\n0xffffffb0ad46b370 : 0xffffff80064b938d\n0xffffffb0ad46b490 : 0xffffff80064b9678\n0xffffffb0ad46b500 : 0xffffff8006cbe3ca\n0xffffffb0ad46b570 : 0xffffff80065ed0e6\n0xffffffb0ad46b6f0 : 0xffffff80065ecdcd\n0xffffffb0ad46b740 : 0xffffff800645ea2f\n0xffffffb0ad46b760 : 0xffffff8006b8fa85\n0xffffffb0ad46b8b0 : 0xffffff8006b8ebd5\n0xffffffb0ad46b930 : 0xffffff8006b8ed5b\n0xffffffb0ad46b9c0 : 0xffffff8006b9cb3c\n0xffffffb0ad46bbe0 : 0xffffff8006b9c304\n0xffffffb0ad46bc40 : 0xffffff8006b9a848\n0xffffffb0ad46bcc0 : 0xffffff8006bad88b\n0xffffffb0ad46bd40 : 0xffffff800651ec1b\n0xffffffb0ad46bd90 : 0xffffff80064bf0e7\n0xffffffb0ad46be00 : 0xffffff8006495905\n0xffffffb0ad46be60 : 0xffffff80064ad012\n0xffffffb0ad46bef0 : 0xffffff80065d0ec3\n0xffffffb0ad46bfa0 : 0xffffff800645f216\n\nProcess name corresponding to current thread: kernelmanagerd\n\nMac OS version:\n20C69\n\nKernel version:\nDarwin Kernel Version 20.2.0: Wed Dec  2 20:39:59 PST 2020; root:xnu-7195.60.75~1\/RELEASE_X86_64\nKernel UUID: 82E2050C-5936-3D24-AD3B-EC4EC5C09E11\nKernelCache slide: 0x0000000006200000\nKernelCache base:  0xffffff8006400000\nKernel slide:      0x0000000006210000\nKernel text base:  0xffffff8006410000\n__HIB  text base: 0xffffff8006300000\nSystem model name: MacBookPro13,1 (Mac-473D31EABEB93F9B)\nSystem shutdown begun: NO\nPanic diags file available: NO (0xe00002bc)\nHibernation exit count: 0\n\nSystem uptime in nanoseconds: 15267279395\nLast Sleep:           absolute           base_tsc          base_nano\n  Uptime  : 0x000000038e003687\n  Sleep   : 0x0000000000000000 0x0000000000000000 0x0000000000000000\n  Wake    : 0x0000000000000000 0x0000001f5ac94810 0x0000000000000000\nlast started kext at 1458452931: |SCSITaskUserClient    436.40.6 (addr 0xffffff8008eca000, size 20480)\nloaded kexts:\n|SCSITaskUserClient    436.40.6\n>!ATopCaseHIDEventDriver    4020.6\n@filesystems.apfs    1677.60.23\n>!AFileSystemDriver    3.0.1\n@filesystems.tmpfs    1\n@filesystems.hfs.kext    556.60.1\n@BootCache    40\n@!AFSCompression.!AFSCompressionTypeZlib    1.0.0\n@!AFSCompression.!AFSCompressionTypeDataless    1.0.0d1\n>AirPort.BrcmNIC    1400.1.1\n@private.KextAudit    1.0\n>!ASmartBatteryManager    161.0.0\n>!AACPIButtons    6.1\n>!ARTC    2.0\n>!ASMBIOS    2.1\n>!AACPIEC    6.1\n>!AAPIC    1.7\n@!ASystemPolicy    2.0.0\n@nke.applicationfirewall    310\n|IOKitRegistryCompatibility    1\n|EndpointSecurity    1\n>usb.cdc    5.0.0\n>usb.networking    5.0.0\n>usb.!UHostCompositeDevice    1.2\n>!AActuatorDriver    4400.28\n>!AHIDKeyboard    222\n>!AMultitouchDriver    4400.28\n>!AInputDeviceSupport    4400.35\n>!AHS!BDriver    4020.6\n>IO!BHIDDriver    8.0.2f9\n>!AHSSPIHIDDriver    61\n>!AThunderboltDPInAdapter    8.1.4\n>!AThunderboltDPAdapter!F    8.1.4\n>!AThunderboltPCIDownAdapter    4.1.1\n>!AHPM    3.4.4\n>!A!ILpssI2C!C    3.0.60\n>!AXsanScheme    3\n>!ABSDKextStarter    3\n|IOSurface    289.3\n@filesystems.hfs.encodings.kext    1\n>!AHSSPISupport    61\n>!AThunderboltNHI    7.2.8\n|IOThunderbolt!F    9.3.2\n>!A!ILpssSpi!C    3.0.60\n>!A!ILpssDmac    3.0.60\n|IO80211!F    1200.12.2b1\n|IOSkywalk!F    1\n>mDNSOffloadUserClient    1.0.1b8\n>corecapture    1.0.4\n|IONVMe!F    2.1.0\n>usb.!UHostPacketFilter    1.0\n|IOUSB!F    900.4.2\n>!A!ILpssI2C    3.0.60\n>!A!ILpssGspi    3.0.60\n>usb.!UXHCIPCI    1.2\n>usb.!UXHCI    1.2\n>!AEFINVRAM    2.1\n>!AEFIRuntime    2.1\n|IOSMBus!F    1.1\n|IOHID!F    2.0.0\n$!AImage4    3.0.0\n|IOTimeSync!F    900.11\n|IONetworking!F    3.4\n>DiskImages    493.0.0\n|IO!B!F    8.0.2f9\n|IOReport!F    47\n|IO!BPacketLogger    8.0.2f9\n$quarantine    4\n$sandbox    300.0\n@kext.!AMatch    1.0.0d1\n|CoreAnalytics!F    1\n>!ASSE    1.0\n>!AKeyStore    2\n>!UTDM    511.60.2\n|IOUSBMass!SDriver    184.40.6\n|IOSCSIBlockCommandsDevice    436.40.6\n|IO!S!F    2.1\n|IOSCSIArchitectureModel!F    436.40.6\n>!AMobileFileIntegrity    1.0.5\n@kext.CoreTrust    1\n>!AFDEKeyStore    28.30\n>!AEffaceable!S    1.0\n>!ACredentialManager    1.0\n>KernelRelayHost    1\n|IOUSBHost!F    1.2\n>!UHostMergeProperties    1.2\n>usb.!UCommon    1.0\n>!ABusPower!C    1.0\n>!ASEPManager    1.0.1\n>IOSlaveProcessor    1\n>!AACPIPlatform    6.1\n>!ASMC    3.1.9\n|IOPCI!F    2.9\n|IOACPI!F    1.4\n>watchdog    1\n@kec.pthread    1\n@kec.corecrypto    11.1\n@kec.Libm    1"}
{"post_id":73302,"thread_id":60937,"title":"820-00875 CPU overheats with battery connected","user_id":682,"username":"2informaticos","post_date":"2021-03-19 11:29:32","message":"Probably bad CPU.\nThe shutdown point is calculated from all sensors combined and depends also by CPU frequency at that time."}
{"post_id":73389,"thread_id":60937,"title":"820-00875 CPU overheats with battery connected","user_id":7922,"username":"tcampbell34","post_date":"2021-03-23 09:52:50","message":"Update on this one. I tested it for a few days and found the issue seems to be with the SSD and not with the computer overheating. Every time it would kernel panic, the report would say the same thing, [B]nvme: \"Fatal error occurred\". [\/B]I downloaded the program Disk Speed Test and tried to run a test, and it would freeze and kernel panic every time. I swapped the SSD and now everything seems to be working fine. Thanks for the assistance"}
{"post_id":73394,"thread_id":60937,"title":"820-00875 CPU overheats with battery connected","user_id":682,"username":"2informaticos","post_date":"2021-03-23 11:19:24","message":"Thanks for feedback.\nReally strange issue, can help other members in the future."}
{"post_id":73397,"thread_id":60937,"title":"820-00875 CPU overheats with battery connected","user_id":29628,"username":"Askaleto","post_date":"2021-03-23 12:15:07","message":"Tcampbell, can you please specify in which report you read nvme: Fatal error? I cannot see this in the kernel panic report posted earlier."}
{"post_id":73401,"thread_id":60937,"title":"820-00875 CPU overheats with battery connected","user_id":7922,"username":"tcampbell34","post_date":"2021-03-23 12:51:08","message":"Take a look at this [URL]https:\/\/forums.macrumors.com\/threads\/persistent-nvme-kernel-panics-on-macbook-pro-13-2017.2251610\/[\/URL]\n\nI found this while looking into the error. The kernel panic I posted earlier was also one that I got, but that is not the same kernel panic which stated the nvme error, and I only got that once or twice. Majority of the time the KP looks just like the one in that post with the nvme: \"Fatal error occurred\" in the first line."}
