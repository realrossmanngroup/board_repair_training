{"post_id":72021,"thread_id":60825,"title":"820-00840 liquid damage, no power","user_id":29412,"username":"Victor Holley","post_date":"2021-02-22 16:08:13","message":"I have 820-00840 that does not turn on.\n\nTwo USBC ports had different activity.\nPort #1 =5v, 0.17A steady\nPort#2 20v immediately cuts off, 0A then restarts\n\nFound one drop of water on the board.  \n\nThat drop made corrosion at R7021, R7022 near U7000.  No water under U7000.   Test point for PPVIN_G3HP3v3G3H was corroded away.  No continuity between C7078 and C6991.  Replaced resistors and made jumper to bring back continuity of PPVIN_G3HP3V3G3H\nAlso test point TBA_CSOR_N is corroded away, but this looks like it does not make an open when missing.\n\nResult: Port#2 is now 20v and 0amp steady\n\n\nI searched forum and read posts.   Learned that step one is make both usb c ports the same.\nDiode mode of LDO rails showed a short on PP3v3_UPC_XA_LDO.\nReplaced only this CD3215\n\nNOW BOTH usbc ports are THE SAME\n20v, 0.00A\n\nMeasured PPBUS_G3H with no battery connected. Voltage= 1.1v declines to 0.95v and boosts to 1.1v, repeats pattern.\n\nDiode mode on PPBUS_G3H = 0.429\n\nI stopped here to ask what would you do with this board next?"}
{"post_id":72029,"thread_id":60825,"title":"820-00840 liquid damage, no power","user_id":682,"username":"2informaticos","post_date":"2021-02-22 16:53:14","message":"Post some U7000 voltages; P_IN, AUX_DET, VDDA\/P, SMC_AUX_OK, CHGR_A\/BMON.\nPost ohm resistance over C7020\/23 caps.\n\nTry to start in SMC bypass mode."}
{"post_id":72107,"thread_id":60825,"title":"820-00840 liquid damage, no power","user_id":29412,"username":"Victor Holley","post_date":"2021-02-23 13:52:02","message":"P_IN =  20.56\nAUX_DET = 4.92\nVDD\/A = 3.01\nVDD\/B  = 5.11\nSMC_AUX_OK =_3.41\nCHGR_AMON = 3.4\nCHGR_BMON = 0\nc7020 2.9\nc7023 2.9\nSMC BYPASS was unsuccessful for fan spin"}
{"post_id":72111,"thread_id":60825,"title":"820-00840 liquid damage, no power","user_id":682,"username":"2informaticos","post_date":"2021-02-23 14:31:26","message":"\"VDD\/A = 3.01\"\nCheck R7075."}
{"post_id":72115,"thread_id":60825,"title":"820-00840 liquid damage, no power","user_id":29412,"username":"Victor Holley","post_date":"2021-02-23 15:58:31","message":"I replaced earlier the two corroded resistors 7022 and R7021 before I took the U7000 area measurements and reported them here.\nOn inspection, I realize that U7000 was not even--I must have nudged it during resistor replacement. I reballed it and returned it to the board.\n\nNow Usbc port activity is 20v, 0.03A switching to 0A and back to 0.03A, or steady 0A\n\nPPBUSG3H = 0.08v\nPPBUSG3H diode mode =0.400\nVDD\/A = 1.09v\nVDD\/P is same 1.09v"}
{"post_id":72119,"thread_id":60825,"title":"820-00840 liquid damage, no power","user_id":682,"username":"2informaticos","post_date":"2021-02-23 17:20:14","message":"\"VDD\/A = 1.09v\nVDD\/P is same 1.09v\"\nYou get now worst values.\nPost the other (above) mentioned voltages for U7000."}
{"post_id":72121,"thread_id":60825,"title":"820-00840 liquid damage, no power","user_id":29412,"username":"Victor Holley","post_date":"2021-02-23 17:25:22","message":"Would it be possible for you to post a list instead of the correct values?"}
{"post_id":72123,"thread_id":60825,"title":"820-00840 liquid damage, no power","user_id":682,"username":"2informaticos","post_date":"2021-02-23 17:28:09","message":"You have the list on your second post.\nJust write the actual values."}
{"post_id":72124,"thread_id":60825,"title":"820-00840 liquid damage, no power","user_id":29412,"username":"Victor Holley","post_date":"2021-02-23 17:39:18","message":"My preference would be to understand what U7000 does so that I can troubleshoot on my own.\nFor example, I can see that U7000 has power in from usbc charger, after it passes current sensing resistor R7020\nI see CSIN and CSIP which are the two sides of the input current sensing circuit.\n\nI see AUX_DET which probably stands for something like auxiliary detection which must be when something other than a charger is plugged into usbc\n\nSGATE and AGATE I recognize them as common in chips that control mosfets--I guess this is how the chip switches the mosfets\n\nI don't know MPM Detection\n\nPP3v3_G3H seems like another power in\n\nI see a couple of data lines where U7000 talks to SMC\n\nI see HPWR_EN_L which is an enable for U7000, I'm not sure where it is from\n\nCHGR AMON and BMON I recognize as common lines for charging chips but I don't know what they do.  I would like to know these lines.\n\nThere is an output PM_EN_P3v3G3H which probably tells the power management chip that usbc has been plugged in?\n\nBGATE line probably goes with SGATE and AGATE to control the mosfets\n\nCSOP and CSON are current sense circuits for the chip outputs?\n\nUltimately U7000 talks to SMC and if it is told yes then it switches the mosfets to generate PPBUS_G3H from the DCIN and\/or from the Battery, and it uses DCIN to charge the battery.  Is this right?"}
{"post_id":72125,"thread_id":60825,"title":"820-00840 liquid damage, no power","user_id":29412,"username":"Victor Holley","post_date":"2021-02-23 17:40:46","message":"[QUOTE=\"2informaticos, post: 72123, member: 682\"]\nYou have the list on your second post.\nJust write the actual values.\n[\/QUOTE]\nAre you saying the previous post has all correct values listed except for VDD\/A?\n\nWhat does VDD\/A do?"}
{"post_id":72126,"thread_id":60825,"title":"820-00840 liquid damage, no power","user_id":682,"username":"2informaticos","post_date":"2021-02-23 17:51:47","message":"No datasheet available.\nBut you can compare with an old chip, like ISL6255\/57; VDD\/P described there.\n\nI said to check R7075, take your time.\nIf good, then should get equal values in second post too.\nYou've got wrong voltages after reballed U7000.\nSo chip is fried, or bad solders."}
{"post_id":72762,"thread_id":60825,"title":"820-00840 liquid damage, no power","user_id":29412,"username":"Victor Holley","post_date":"2021-03-08 13:21:28","message":"Replaced u7000. \nUsb-c port \"A\" 20v .03a \nUsb-c port \"B\" restarts \nRelatively new OEM from Apple Store 96watt Macbook charger block stopped working.\n\nReplaced two cd3215 with CD3215C0068AQ4CW from China\nBoth USB-C port status returned identical results. 5V 0.03a."}
{"post_id":72763,"thread_id":60825,"title":"820-00840 liquid damage, no power","user_id":682,"username":"2informaticos","post_date":"2021-03-08 13:35:30","message":"Why did you change CD3215 chip where you've got 20V?\nPut back that chip.\nPossible bad new chips, or incorrect solders."}
{"post_id":72765,"thread_id":60825,"title":"820-00840 liquid damage, no power","user_id":29412,"username":"Victor Holley","post_date":"2021-03-08 13:46:51","message":"\"Why change a CD3215 that is getting 20v\"\nBecause before changing U7000, I had 20v on BOTH ports. \n\nThen I changed U7000 and now the usbc ports have changed. \nNow one is 20v lowA and the other is restarting.\n\nThis means something happened with ELECTRICAL damage. I can not trust chips that I know have electrical damage.\n\nIt sounds like if 5v is on the ports this is CD3215 problem. I am posting here to see if that is true, or if there is something else to think about given the history of this case. I also am not sure if there is compatibility problems with CD3215 so I posted the whole number.\n\nFor example, in iPhone 5 tristar is A1608A1 and is not compatible with A1610A1, however A1610A1 can be swapped with A1610A2,A3 etc."}
{"post_id":72769,"thread_id":60825,"title":"820-00840 liquid damage, no power","user_id":682,"username":"2informaticos","post_date":"2021-03-08 14:38:21","message":"C00 termination is what matters here.\nIf USB-C ports behaviour changed after replacing U7000, then should be corrosion problem.\nOne port is more affected than other.\n\nYour previous post stated to have 5V on both ports..."}
{"post_id":72774,"thread_id":60825,"title":"820-00840 liquid damage, no power","user_id":29412,"username":"Victor Holley","post_date":"2021-03-08 15:29:05","message":"Scroll up--maybe I have been unclear?\nMy goal was to give as much history as possible.\n\n[I]Copy\/paste from above: I searched forum and read posts. Learned that step one is make both usb c ports the same.\nDiode mode of LDO rails showed a short on PP3v3_UPC_XA_LDO.\n[B]Replaced only this CD3215\n\nNOW BOTH usbc ports are THE SAME\n20v, 0.00A[\/B][\/I]\n\nThis was before I replaced U7000.\nAfter replacing U7000\n\nUsbc Master 20v 0A\nUsbc Secondary restarting---this is the original condition.\n\nReplaced BOTH because I must conclude there was electrical insult.\n\nNow BOTH 5v with chinese CD3215. CD3215C0068AQ4CW \n\nI will change CD3215 with stock from Louis and report back\n[I] [\/I]"}
{"post_id":72783,"thread_id":60825,"title":"820-00840 liquid damage, no power","user_id":29412,"username":"Victor Holley","post_date":"2021-03-08 16:33:09","message":"3215 replaced again.\nUSB port\"A\" back to 20v\nUSB port \"B\" shows 5v, 20v then restarts and repeats."}
{"post_id":72786,"thread_id":60825,"title":"820-00840 liquid damage, no power","user_id":682,"username":"2informaticos","post_date":"2021-03-08 16:39:44","message":"Usually board restarts when tries to boot and a problem is detected in a secondary power supply.\nSee what happens in SMC bypass.\nCheck for short on any big coil."}
