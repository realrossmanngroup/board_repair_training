{"post_id":71263,"thread_id":60736,"title":"820-00840 no ppbus_g3h stuck on 5v liquid damage","user_id":945,"username":"Roan","post_date":"2021-02-06 11:47:42","message":"A A1706 came in with liquid damage, alot of it. Tried cleaning the CD3215 and ISL but no luck. Removed both CD3215s after seeing brown\/black goo coming from underneath it, but after replacing still no luck.\n\nHave not worked with USB-C macbooks before so one thing is not completely clear. Is it true that PP3v3_G3H need PPBUS_G3H to function and, the CD3215s need the PP3v3 voltage line to make 5v into 20 volts? Does this mean that I start with the PPBUS short and after that start solving the CD3215 problem?\n\nIf my reasoning is bad I apologise, I wanted to show my thought process to make it easier to see when I am going wrong."}
{"post_id":71266,"thread_id":60736,"title":"820-00840 no ppbus_g3h stuck on 5v liquid damage","user_id":682,"username":"2informaticos","post_date":"2021-02-06 13:21:43","message":"3V3_G3H MUST appear first, with 5V input.\nOnce SMC boots, will talk with CD3215 chips, to switch input to 20V.\nIt will also tell to U7000 when to generate PPBUS_G3H.\n\nPost diode mode to ground for the 4 LDO outputs of CD3215 chips."}
{"post_id":72773,"thread_id":60736,"title":"820-00840 no ppbus_g3h stuck on 5v liquid damage","user_id":945,"username":"Roan","post_date":"2021-03-08 15:16:23","message":"4 outputs of L3200\n1 - 645\n2 - 645\n3 - 1507\n4 - 1507\n\ncouldnt find another LDO connected to the other CD3215, not experienced with these boards Im sorry"}
{"post_id":72787,"thread_id":60736,"title":"820-00840 no ppbus_g3h stuck on 5v liquid damage","user_id":682,"username":"2informaticos","post_date":"2021-03-08 16:42:22","message":"Each CD3215 has 4 (four) LDO rails:\n- 1x 3V3.\n- 2x 1V8,\n- 1x 1V1.\nConsult schematic, look inside CD3215 block notations."}
{"post_id":72835,"thread_id":60736,"title":"820-00840 no ppbus_g3h stuck on 5v liquid damage","user_id":945,"username":"Roan","post_date":"2021-03-09 14:22:02","message":"Jep found em!\n\nPP1V1_UPC_XA_LDO_BMC = 0V (diode mode 540)\nPP1V8_UPC_XA_LDOD = 1.77V\nPP1V8_UPC_XA_LDOA = 1.80V\nPP3V3_UPC_XA_LDO = 3.35V\n\nPP1V1_UPC_XB_LDO_BMC = 0V (diode mode OL)\nPP1V8_UPC_XB_LDOD = 1.78V\nPP1V8_UPC_XB_LDOA = 1.80V\nPP3V3_UPC_XB_LDO = 3.35V"}
{"post_id":72836,"thread_id":60736,"title":"820-00840 no ppbus_g3h stuck on 5v liquid damage","user_id":682,"username":"2informaticos","post_date":"2021-03-09 16:05:45","message":"\"PP1V1_UPC_XB_LDO_BMC = 0V (diode mode OL)\"\nThere should be a bad solder; you must get similar diode mode reading as the other chip.\nI hope you've measured both chips with red probe to ground.\n\nBTW, 1V1 LDO voltage should appear only on the powered port."}
{"post_id":73408,"thread_id":60736,"title":"820-00840 no ppbus_g3h stuck on 5v liquid damage","user_id":945,"username":"Roan","post_date":"2021-03-23 16:34:15","message":"diode mode fixed\nmeasured PP3v3_G3H at R3001 and it's there\nyou mentioned the 3V3 rail should start with input 5V is that correct?\nI see alot of bidirectional datalines on the CD3215's, what output line(s) can I check to know it's working to a large extent? which are the last ones to come on?\n\nPP1V1_UPC_XA_LDO_BMC = 540\nPP1V8_UPC_XA_LDOD = 500\nPP1V8_UPC_XA_LDOA = 600\nPP3V3_UPC_XA_LDO = OL\n\nPP1V1_UPC_XB_LDO_BMC = 540\nPP1V8_UPC_XB_LDOD = 1850\nPP1V8_UPC_XB_LDOA = 1900\nPP3V3_UPC_XB_LDO = OL\n\nIs this an indication that the B chip is badly soldered? Since some the diodemode readings are relatively high?"}
{"post_id":73409,"thread_id":60736,"title":"820-00840 no ppbus_g3h stuck on 5v liquid damage","user_id":682,"username":"2informaticos","post_date":"2021-03-23 17:58:27","message":"You can't get OL on any LDO rail.\nBe sure to check (ALWAYS) diode mode with red probe connected to ground."}
{"post_id":73712,"thread_id":60736,"title":"820-00840 no ppbus_g3h stuck on 5v liquid damage","user_id":945,"username":"Roan","post_date":"2021-03-30 14:56:20","message":"PP1V1_UPC_XA_LDO_BMC = 530\nPP1V8_UPC_XA_LDOD = 490\nPP1V8_UPC_XA_LDOA = 550\nPP3V3_UPC_XA_LDO = 530\n\nPP1V1_UPC_XB_LDO_BMC = 570\nPP1V8_UPC_XB_LDOD = 520\nPP1V8_UPC_XB_LDOA = 570\nPP3V3_UPC_XB_LDO = 550\n\nnow I payed attention to my probes :)"}
{"post_id":73713,"thread_id":60736,"title":"820-00840 no ppbus_g3h stuck on 5v liquid damage","user_id":682,"username":"2informaticos","post_date":"2021-03-30 15:24:29","message":"The values are bit higher.\nBut this could be caused by bad chip, or bad solders.\nCan be even normal difference.\nDid you solder same CD3215C00 chip?\n\nI bet for more damage caused by liquid spill.\nU2890 and surrounding components, look clean?"}
{"post_id":73828,"thread_id":60736,"title":"820-00840 no ppbus_g3h stuck on 5v liquid damage","user_id":945,"username":"Roan","post_date":"2021-04-01 10:40:04","message":"U2890 does look quite dirty. Cleaned with alcohol and did a reflow, but the diode number dont seem to change much from earlier. These are CD3215s from the same IC strip. bad solder could be the culprit, would you advice to put on 2 new CD3215s or first rule out other problems? Maybe when removing CD3215s checking underneath the IC could uncover some damaged traces? The solder points when I put em on seemed fine for both at the first replacement"}
{"post_id":73838,"thread_id":60736,"title":"820-00840 no ppbus_g3h stuck on 5v liquid damage","user_id":682,"username":"2informaticos","post_date":"2021-04-01 12:42:54","message":"U2890 is not related with diode mode readings on CD3215 chips.\nBut these chips need to read information from TBT ROM.\nIf any pull-up resistor is bad, or other surrounding components, board cannot switch to 20V.\n\nLiquid could also affected Thunderbolt controller (U2800), which is directly connected with both CD3215 chips."}
{"post_id":73960,"thread_id":60736,"title":"820-00840 no ppbus_g3h stuck on 5v liquid damage","user_id":945,"username":"Roan","post_date":"2021-04-05 14:13:20","message":"couldnt find any out of the ordinary resistor reading as in no bad pull-up resistors\n\nat U2800 the lower right resistors are affected by liquid damage: R3097 R3094 R2829, replacing those right now"}
{"post_id":73967,"thread_id":60736,"title":"820-00840 no ppbus_g3h stuck on 5v liquid damage","user_id":682,"username":"2informaticos","post_date":"2021-04-05 17:23:18","message":"Something else corroded.\nCould be trace, solder, or component..."}
