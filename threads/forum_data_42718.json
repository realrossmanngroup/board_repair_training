[
    {
        "post_id":42718,
        "thread_id":42718,
        "title":"820-3208 - no fan spin",
        "user_id":1466,
        "username":"jpadie",
        "post_date":"2018-12-01 05:39:00",
        "message":"Hi \n\ni have an 820-3208 in an S0 state.  but no fan spin.\n\nThe missing S0 rails are\nPP0V75_S0_DDRVTT\nPPVCCSA_S0_CPU\nPPVCORE_S0_CPU\nPPVCORE_S0_AXG\n\n\nincidentally PP1V5_S3_CPU_VCCD is at 1.35v and not 1.5v\n\nall_sys_pwrgd is not present (50mv)\n\nI have changed Q7950 twice just in case\n\ninputs on Q7950 are\n\nVMON_Q2_BASE 1.06v\nVMON_Q3_BASE  1.3v\nVMON_Q4_BASE  0.7v\nS0PGD 0.65v\n\nthe voltages coming in to each of the resistors (and dividers) feeding Q7950 are fine.  the resistors themselves are fine. and the all_sys_pwrgd resistors also seem fine\n\nany thoughts on where to go next with this board?  \n\nthanks\n\njustin"
    },
    {
        "post_id":42720,
        "thread_id":42718,
        "title":"820-3208 - no fan spin",
        "user_id":682,
        "username":"2informaticos",
        "post_date":"2018-12-01 08:45:07",
        "message":"If you have doubts with Q7950, remove it.\nThe board should work without it.\nIf ALL_SYS_PWRGD stays low, VCORE will not appear.\nSo check wich power supply involved in generating ALL_SYS_PWRGD fails.\nCheck first if R7967 gets 3V at pin1.\nNext, remove one by one R7901 and R7963-66.\nWhen ALL_SYS_PWRGD goes high, you just found the culprit..."
    },
    {
        "post_id":42723,
        "thread_id":42718,
        "title":"820-3208 - no fan spin",
        "user_id":1466,
        "username":"jpadie",
        "post_date":"2018-12-01 11:07:10",
        "message":"thank you\n\nremoving R7901, R7903-6 sends pwrgd high.  measuring on the incoming side of each removed resistor pad gives the following:\n\np5vs3_pgood  0.5v\np3v3s5_pgood 0.5v\npvccsa_pgood 0v\ncpuvccios0_pggod  0.6v\np1v8s0_pggod 0.6v\nCPUIMVPAXG_PGOOD 0v\n\nso i guess a problem on one of the 0v lines....  any known issues to look for on those?"
    },
    {
        "post_id":42724,
        "thread_id":42718,
        "title":"820-3208 - no fan spin",
        "user_id":682,
        "username":"2informaticos",
        "post_date":"2018-12-01 11:30:25",
        "message":"\"R7903-6\"\n???\n\nYou must check ALL_SYS_PWRGD after each resistor removed.\nYou cannot get 3V on the other side of the resistors, as the pull-up R7967 remains on ALL_SYS_PWRGD side..."
    },
    {
        "post_id":42725,
        "thread_id":42718,
        "title":"820-3208 - no fan spin",
        "user_id":1466,
        "username":"jpadie",
        "post_date":"2018-12-01 11:45:28",
        "message":"for example leave R7967 in place; remove the other resistors 7963-8 and test for voltage on pad 1.\n\nunfortunately now a retrograde step in any event. i had identified that CPUVCCIOS0_EN was not present. went to make a cup of tea and have come back to find that the board is no longer in an s0 state. so I have lost most of the rails. I still have the hot rails but PPVRTC_G3H is only 2.7v.\n\nno orange light on the charger.\n\ndamn."
    },
    {
        "post_id":42726,
        "thread_id":42718,
        "title":"820-3208 - no fan spin",
        "user_id":682,
        "username":"2informaticos",
        "post_date":"2018-12-01 12:11:14",
        "message":"Check now PPBUS_G3H and 3V42 rails..."
    },
    {
        "post_id":42727,
        "thread_id":42718,
        "title":"820-3208 - no fan spin",
        "user_id":1466,
        "username":"jpadie",
        "post_date":"2018-12-01 12:15:37",
        "message":"i have all the always on rails.just RTC is at 2.7v rather than 3v. i will replace the clock chip\\"
    },
    {
        "post_id":42730,
        "thread_id":42718,
        "title":"820-3208 - no fan spin",
        "user_id":682,
        "username":"2informaticos",
        "post_date":"2018-12-01 13:10:04",
        "message":"Good luck, I hope PCH is still OK..."
    },
    {
        "post_id":42733,
        "thread_id":42718,
        "title":"820-3208 - no fan spin",
        "user_id":1466,
        "username":"jpadie",
        "post_date":"2018-12-01 14:00:24",
        "message":"that would be annoying.  but I can't see why the PCH would spontaneously have fried.  \n\nI have swapped the clock chip. Output on RTC is still 2.7v . Also pp3v3_s5 is at 2.7v as is the P3V3S5_DRVH line coming from U7201 \n\nno enable on U7941.  dead SMC?"
    },
    {
        "post_id":42734,
        "thread_id":42718,
        "title":"820-3208 - no fan spin",
        "user_id":682,
        "username":"2informaticos",
        "post_date":"2018-12-01 14:13:57",
        "message":"\"I can't see why the PCH would spontaneously have fried\n---------------------------------\ni had identified that CPUVCCIOS0_EN was not present\"\nYou already have something PCH related...\n\nCheck resistance to ground on VCCRTC and 3V3_S5 lines; be aware, both go to PCH.\nCompare with a good board, if possible.\nAlso check again all RTC signals."
    },
    {
        "post_id":42738,
        "thread_id":42718,
        "title":"820-3208 - no fan spin",
        "user_id":1466,
        "username":"jpadie",
        "post_date":"2018-12-01 14:46:19",
        "message":"I don't think it can be PCH as that enable signal is generated from pm_slp_s3_r which is also required for other enable lines that I know are functional. \n\ni guess either r or c7981 must have been damaged.\n\nBut of course now the problem is rather wider with no full S5 rails and only 2.7v on pp3v3.  I will check the resistances tomorrow morning before work."
    },
    {
        "post_id":42741,
        "thread_id":42718,
        "title":"820-3208 - no fan spin",
        "user_id":682,
        "username":"2informaticos",
        "post_date":"2018-12-01 15:00:18",
        "message":"I don't want to dissapoint you, but PM_SLP_S3_L is controlled by PCH; it also has the pull-up resistor inside.\nAll the sleep signals are controlled by PCH."
    },
    {
        "post_id":42743,
        "thread_id":42718,
        "title":"820-3208 - no fan spin",
        "user_id":1466,
        "username":"jpadie",
        "post_date":"2018-12-01 15:11:07",
        "message":"Sure. But if the signal wasn't being generated then all the other rails that rely on it would not be present.   And previously the board was in an S0 state meaning that pm_slp_s3_l was not in an active low state ."
    },
    {
        "post_id":42746,
        "thread_id":42718,
        "title":"820-3208 - no fan spin",
        "user_id":682,
        "username":"2informaticos",
        "post_date":"2018-12-01 15:17:44",
        "message":"You're right, it \"WAS\"...\nSo you can't discard PCH now.\nC1802\/03 are prone to fail on this board.\nBut them cannot drop so much VRTC rail.\n\nIf U2700 receives correct 3V42, and all caps from VRTC are good (disconnect them for test), then no other reason than bad PCH remains..."
    },
    {
        "post_id":42759,
        "thread_id":42718,
        "title":"820-3208 - no fan spin",
        "user_id":1466,
        "username":"jpadie",
        "post_date":"2018-12-02 05:28:48",
        "message":"resistances on the requested lines are\nPPVRTC- 4MOhm\nPP3v3_S5 - 3.8kOhm\n\nthe always-on rails are present (save that PPVRTC is at 2.7v)\n\nSMC_RESET_L,SMS_PWRBTN_L are both high.\nSMC_PM_G2_EN is at at a few mV.  \n\ndead SMC?"
    },
    {
        "post_id":42763,
        "thread_id":42718,
        "title":"820-3208 - no fan spin",
        "user_id":682,
        "username":"2informaticos",
        "post_date":"2018-12-02 06:46:24",
        "message":"\"If U2700 receives correct 3V42, and all caps from VRTC are good (disconnect them for test), then no other reason than bad PCH remains...\"\nDid you check???\n\nPCH can have high resistance to ground, but it can enter in some kind of avalanche effect, droping VRTC...\nNo matters SMC is good or not.\nBad RTC block will not allow PCH starting power on sequence!"
    },
    {
        "post_id":42765,
        "thread_id":42718,
        "title":"820-3208 - no fan spin",
        "user_id":1466,
        "username":"jpadie",
        "post_date":"2018-12-02 06:59:34",
        "message":"i used an RTC from a donor board.  but since VRTC is the same as pp3v3_s5 I suspect the issue is not the clock chip but pp3v3_s5.  \n\ni will double check the caps.  \n\nthe more interesting question, forensically, is that the board had fan spin when the resistor to all_sys_pwrgd was remove to prevent it pulling low.  The heat sink was in place and, as said, fan spinning happily and normally.  It then spontaneously stopped within the next twenty minutes.  No apparent overheating (although I was not present).  No evident corrosion."
    },
    {
        "post_id":42766,
        "thread_id":42718,
        "title":"820-3208 - no fan spin",
        "user_id":682,
        "username":"2informaticos",
        "post_date":"2018-12-02 08:23:20",
        "message":"PCH should work with 2.7V on VRTC.\nThe suspect thing is if that voltage arrives to PCH as is, or is pulled down by PCH...\n\nDo you also have 2.7V at 3V3_S5 coil?\nIf yes, check corresponding power supply.\nPay atention to feedback resistors, R7260\/61."
    },
    {
        "post_id":42768,
        "thread_id":42718,
        "title":"820-3208 - no fan spin",
        "user_id":1466,
        "username":"jpadie",
        "post_date":"2018-12-02 11:32:28",
        "message":"yes.  with L7260 removed there is 2.6+v at both pads (which I find a bit odd and makes me suspicious of U7201) \n\nInterestingly R7260 and61 measure 11k and 7.8k respectievely . on a donor board they measure closer to 20 and 9k\n\nreplaced the clock chip again.  ppvrtc is at 2.3v now.  PP3v3_s5 remains the same. I'm not getting a 32kHz signal on the clock chip though. starts at 16kHz and then spirals down to 8."
    },
    {
        "post_id":42770,
        "thread_id":42718,
        "title":"820-3208 - no fan spin",
        "user_id":1466,
        "username":"jpadie",
        "post_date":"2018-12-02 11:51:03",
        "message":"also to note that there is no 3v on the middle pin of the magsafe.\n\nU2700 receives pp3v42_g3h.  i cannot see any cap that is bad around U2700.  there is no short on that rail.  \n\nBut ... i cannot see the logic that says that the PCH must start up just because U2700 is working.   doesn't the PCH need all_sys_pwrgd AND (U2750)  CPUIMVP_PGOOD AND (U2760) SMC_DELAYED_PWRG to start up?"
    },
    {
        "post_id":42772,
        "thread_id":42718,
        "title":"820-3208 - no fan spin",
        "user_id":682,
        "username":"2informaticos",
        "post_date":"2018-12-02 12:09:23",
        "message":"Mentioned signals appear much later...\nPCH should first release SLP_SUS and next SLP_Sx, after got PWRBTN reaction from SMC.\n\n\"with L7260 removed there is 2.6+v at both pads\"\nWhat???\nThe coil is a part (important) of buck controller!!!\nAny voltage measure without coil is a non-sense...\n\nChange U7201 and Q7260; pay atention to R\/C7264."
    },
    {
        "post_id":42774,
        "thread_id":42718,
        "title":"820-3208 - no fan spin",
        "user_id":1466,
        "username":"jpadie",
        "post_date":"2018-12-02 12:26:29",
        "message":"Yes - it's very odd. the voltage stays the same whether the coil is there or not.  makes me very suspicious of U7201.  but .... there is no enable inputer on U7201 either"
    },
    {
        "post_id":42782,
        "thread_id":42718,
        "title":"820-3208 - no fan spin",
        "user_id":682,
        "username":"2informaticos",
        "post_date":"2018-12-02 13:33:05",
        "message":"Post basic voltages for U7201 and U7941."
    },
    {
        "post_id":42794,
        "thread_id":42718,
        "title":"820-3208 - no fan spin",
        "user_id":1466,
        "username":"jpadie",
        "post_date":"2018-12-02 23:51:21",
        "message":"U7201\n\nmostly at or close to 0mv except for\n3 80mv\n10 20mv\n16 800mv\n17 2.7v\n18 2.7\n22 3.3v\n23 8.2v\n24 2.7v\n25 2.7v\n26 2.47v\n\nU7941\n1 3.42v\n2 0\n3 0\n4 3.39v\n5 0 \n6 2.7v\n7 0 \n8 0"
    },
    {
        "post_id":42795,
        "thread_id":42718,
        "title":"820-3208 - no fan spin",
        "user_id":682,
        "username":"2informaticos",
        "post_date":"2018-12-03 02:01:44",
        "message":"As expected, missing SMC_PM_G2_EN. It comes from SMC.\nYou didn't mention incorrect PPBUS_G3H before...\n\nCheck SMC_RESET_L value.\nAlso try a reflow to SMC."
    },
    {
        "post_id":42797,
        "thread_id":42718,
        "title":"820-3208 - no fan spin",
        "user_id":1466,
        "username":"jpadie",
        "post_date":"2018-12-03 02:14:45",
        "message":"why do you think that PPBUS is incorrect?  It is 8.2v.  \n\nSMC_RESET_L is high (as per message yesterday). \n\nyes.  missing SMC_PM_G2_EN as per the same previous message."
    },
    {
        "post_id":42801,
        "thread_id":42718,
        "title":"820-3208 - no fan spin",
        "user_id":682,
        "username":"2informaticos",
        "post_date":"2018-12-03 02:43:11",
        "message":"PPBUS_G3H correct value is aprox 8.4-8.5V.\n8.2V means SMC don't talk with ISL6259!\nAnd this be caused by SMC, or ISL6259, or something else connected on SMBattery Bus.\nAs you also miss SMC_PM_G2_EN, SMC is first suspect here.\nThe best option is change it. But I recommend to reball it first."
    },
    {
        "post_id":42806,
        "thread_id":42718,
        "title":"820-3208 - no fan spin",
        "user_id":1466,
        "username":"jpadie",
        "post_date":"2018-12-03 03:41:26",
        "message":"ah. that is interesting.  PPBus has always been 8.2v even when the board was in an S0 state.  definitely something fishy.\n\ni will reflow the SMC later.  I don't have any stencils here to do a proper reball of a donor."
    },
    {
        "post_id":42807,
        "thread_id":42718,
        "title":"820-3208 - no fan spin",
        "user_id":682,
        "username":"2informaticos",
        "post_date":"2018-12-03 04:24:04",
        "message":"I did many at hand; there are aprox 150 balls, not too many...\n0.35-0.4mm for commodity, but you can also use 0.3, even 0.45mm."
    },
    {
        "post_id":42810,
        "thread_id":42718,
        "title":"820-3208 - no fan spin",
        "user_id":1466,
        "username":"jpadie",
        "post_date":"2018-12-03 04:59:12",
        "message":"ha.  it is a plan ... but i am rather middle aged and have shaky hands!  \n\ni may try with some old donor boards one weekend!"
    },
    {
        "post_id":42811,
        "thread_id":42718,
        "title":"820-3208 - no fan spin",
        "user_id":1466,
        "username":"jpadie",
        "post_date":"2018-12-03 05:00:17",
        "message":"reflowing the SMC did not work by the way.  I will debug a bit more later."
    },
    {
        "post_id":42812,
        "thread_id":42718,
        "title":"820-3208 - no fan spin",
        "user_id":682,
        "username":"2informaticos",
        "post_date":"2018-12-03 05:14:34",
        "message":"Don't be afraid, I'm also middle age and work with one eye only..."
    }
]