{
    "instruction": "[INST] Analyze this file to learn MacBook motherboard repair. The 'definitions' section explains key technical terms. The 'threads' section contains real-world repair discussions. Use both sections to understand and learn how to troubleshoot MacBook issues. Posts from username 'larossmann' , 'dukefawks' , and '2informaticos' are posts from trusted experts.[/INST]",
    "definitions": {
        "820-00163": "What is 820-00163? a LOGIC BOARD PART NUMBER.",
        "U3090": "What is U3090? a CHIP.",
        "U2800": "What is U2800? a CHIP.",
        "U2890": "What is U2890? a CHIP.",
        "U3210": "What is U3210? a CHIP.",
        "DP_TBTPA": "What is DP_TBTPA? a SIGNAL.",
        "PB_HPD": "What is PB_HPD? a SIGNAL.",
        "U3310": "What is U3310? a CHIP.",
        "PP3V3_TBTLC": "What is PP3V3_TBTLC? a SIGNAL.",
        "PP1V05_TBTCIO": "What is PP1V05_TBTCIO? a SIGNAL.",
        "DP_TBTPA_HPD": "What is DP_TBTPA_HPD? a SIGNAL.",
        "PP1V05_TBT": "What is PP1V05_TBT? a SIGNAL.",
        "PP3V3_S4_TBT": "What is PP3V3_S4_TBT? a SIGNAL.",
        "P1V05TBT_SW": "What is P1V05TBT_SW? a SIGNAL.",
        "PP1V05_TBTRDV": "What is PP1V05_TBTRDV? a SIGNAL.",
        "PP3V3_S4_TBT_F": "What is PP3V3_S4_TBT_F? a SIGNAL.",
        "PP3V3_TBTRDV": "What is PP3V3_TBTRDV? a SIGNAL.",
        "DP_TBTB_HPD": "What is DP_TBTB_HPD? a SIGNAL.",
        "PP3V3_S5": "What is PP3V3_S5? PP3V3_S5 is a 3.3v power rail when the system is in an S5 soft off power state.",
        "PP3V3_S4": "What is PP3V3_S4? The \"PP3V3_S4\" power rail in a MacBook is used to supply 3.3 volts to certain components when the system is in the S4 power state, also known as \"suspend to disk\" or \"hibernate.\" This rail is active when the MacBook is not fully off but not in an awake state, allowing for faster startup times compared to a full boot sequence. The S4 power state means Suspend to Disk: This is a low-power state where the system context is saved to disk, allowing the system to be powered down almost entirely. Upon waking, the system can restore its state from the disk, effectively resuming where it left off..",
        "P3V3S3_S4": "What is P3V3S3_S4? a SIGNAL.",
        "Q8000": "What is Q8000? a TRANSISTOR.",
        "U3220": "What is U3220? a CHIP.",
        "TBT_A_HPD": "What is TBT_A_HPD? a SIGNAL.",
        "DP_PWR": "What is DP_PWR? a SIGNAL.",
        "U3320": "What is U3320? a CHIP.",
        "PP3V3_S4_TBTAPWR": "What is PP3V3_S4_TBTAPWR? a SIGNAL.",
        "DP_TBTPA_AUXCH_N": "What is DP_TBTPA_AUXCH_N? a SIGNAL.",
        "DP_TBTPA_AUXCH_P": "What is DP_TBTPA_AUXCH_P? a SIGNAL.",
        "DP_TBTPA_DDC_DATA": "What is DP_TBTPA_DDC_DATA? a SIGNAL.",
        "DP_TBTPA_DDC_CLK": "What is DP_TBTPA_DDC_CLK? a SIGNAL.",
        "TBT_A_DP_PWRDN": "What is TBT_A_DP_PWRDN? a SIGNAL.",
        "TBT_A_D2R_C_N": "What is TBT_A_D2R_C_N? a SIGNAL.",
        "TBT_A_D2R_C_P": "What is TBT_A_D2R_C_P? a SIGNAL.",
        "DP_TBTPA_ML_N": "What is DP_TBTPA_ML_N? a SIGNAL.",
        "DP_TBTPA_ML_P": "What is DP_TBTPA_ML_P? a SIGNAL.",
        "TBT_A_LSRX": "What is TBT_A_LSRX? a SIGNAL.",
        "TBT_A_LSTX": "What is TBT_A_LSTX? a SIGNAL.",
        "TBT_A_CIO_SEL": "What is TBT_A_CIO_SEL? a SIGNAL.",
        "TBT_A_CONFIG1_BUF": "What is TBT_A_CONFIG1_BUF? a SIGNAL.",
        "TBT_A_CONFIG1_RC": "What is TBT_A_CONFIG1_RC? a SIGNAL.",
        "DP_A_LSX_ML_P": "What is DP_A_LSX_ML_P? a SIGNAL.",
        "DP_A_LSX_ML_N": "What is DP_A_LSX_ML_N? a SIGNAL.",
        "TBT_A_D2R1_AUXDDC_P": "What is TBT_A_D2R1_AUXDDC_P? a SIGNAL.",
        "TBT_A_D2R1_AUXDDC_N": "What is TBT_A_D2R1_AUXDDC_N? a SIGNAL.",
        "TBTDP_AUXIO_EN": "What is TBTDP_AUXIO_EN? a SIGNAL."
    },
    "threads": [
        {
            "post_id": 87021,
            "thread_id": 62431,
            "title": "<LOGIC BOARD PART NUMBER>820-00163</LOGIC BOARD PART NUMBER>-A Thunderbolt Detection Issue",
            "user_id": 35583,
            "username": "ideachief",
            "post_date": "2022-03-07 21:29:32",
            "message": "I have an <LOGIC BOARD PART NUMBER>820-00163</LOGIC BOARD PART NUMBER>-A logic board that does not detect Thunderbolt devices or output video via DisplayPort on either port A or B, HDMI output works.  ThunderBolt shows in System Profiler, no devices connected.  Checked HPD voltage goes to ~3.2V when DisplayPort is connected but stays 0.0V when Thunderbolt Device (TB Ethernet Adapter) is connected.  15V TB Boost voltage (measured at <CHIP>U3090</CHIP>) was present.  Both TB Ethernet Adapter and DisplayPort monitor work fine on other Macbook Pro.  Any assistance is greatly appreciated"
        },
        {
            "post_id": 87024,
            "thread_id": 62431,
            "title": "<LOGIC BOARD PART NUMBER>820-00163</LOGIC BOARD PART NUMBER>-A Thunderbolt Detection Issue",
            "user_id": 682,
            "username": "2informaticos",
            "post_date": "2022-03-08 01:08:19",
            "message": "First of all, welcome to the forum!\n\nAny history fault available?\n\nBoth <SIGNAL>DP_TBTPA</SIGNAL>/<SIGNAL>PB_HPD</SIGNAL> go high when connect external monitor to corresponding port?\nBe sure to get all output voltages from <CHIP>U3210</CHIP>/310.\nAlso check <CHIP>U2800</CHIP> voltages, at page 29.\n\nYou can try changing TBT ROM (<CHIP>U2890</CHIP>).\nLet <CHIP>U2800</CHIP> as last option..."
        },
        {
            "post_id": 87046,
            "thread_id": 62431,
            "title": "<LOGIC BOARD PART NUMBER>820-00163</LOGIC BOARD PART NUMBER>-A Thunderbolt Detection Issue",
            "user_id": 35583,
            "username": "ideachief",
            "post_date": "2022-03-08 07:09:54",
            "message": "Thanks for the reply.  I'll have to take those measurements this evening after work."
        },
        {
            "post_id": 87080,
            "thread_id": 62431,
            "title": "<LOGIC BOARD PART NUMBER>820-00163</LOGIC BOARD PART NUMBER>-A Thunderbolt Detection Issue",
            "user_id": 35583,
            "username": "ideachief",
            "post_date": "2022-03-08 21:55:22",
            "message": "Ok, so first, I must have been measuring the HPD on the wrong pin.\n  \nFrom the Test Points, <SIGNAL>DP_TBTPA_HPD</SIGNAL> or <SIGNAL>DP_TBTB_HPD</SIGNAL> does NOT go high when monitor (mini-DP) is connected (max 0.1V) to either port.\n\nHere are the measured voltages on the corresponding IC:\n\n<CHIP>U3210</CHIP>\nV3P3OUT (pin 18) = 3.287\nOUT (pins 12 & 14) = 3.328\n\n<CHIP>U3310</CHIP>\nV3P3OUT (pin 18) = 3.310\nOUT (pins 12 & 14) = 3.318\n\n<CHIP>U2800</CHIP>\n<SIGNAL>P1V05TBT_SW</SIGNAL> = 1.042\n<SIGNAL>PP1V05_TBT</SIGNAL> = 1.004\n<SIGNAL>PP1V05_TBTCIO</SIGNAL> = 0.999\n<SIGNAL>PP1V05_TBTRDV</SIGNAL> = 0.998\n<SIGNAL>PP3V3_S4_TBT</SIGNAL> = 3.305\n<SIGNAL>PP3V3_S4_TBT_F</SIGNAL> = 3.304\n<SIGNAL>PP3V3_TBTRDV</SIGNAL> = 3.304\n<SIGNAL>PP3V3_TBTLC</SIGNAL> = 3.303\n\nIf I am missing voltages, please let me know.  Everything seems nominal, with the obvious exception of the HPD not going high.  And thank you for your help."
        },
        {
            "post_id": 87081,
            "thread_id": 62431,
            "title": "<LOGIC BOARD PART NUMBER>820-00163</LOGIC BOARD PART NUMBER>-A Thunderbolt Detection Issue",
            "user_id": 35583,
            "username": "ideachief",
            "post_date": "2022-03-08 22:10:18",
            "message": "Another thing, I was checking <TRANSISTOR>Q8000</TRANSISTOR> (per [URL]https://repair.wiki/w/A1398_2015-2016_15%E2%80%9D_MacBook_Pro_Retina[/URL]) and noticed that <SIGNAL>P3V3S3_S4</SIGNAL> is 0V.  <SIGNAL>PP3V3_S4</SIGNAL> and <SIGNAL>PP3V3_S5</SIGNAL> are both ~ 3.3V."
        },
        {
            "post_id": 87082,
            "thread_id": 62431,
            "title": "<LOGIC BOARD PART NUMBER>820-00163</LOGIC BOARD PART NUMBER>-A Thunderbolt Detection Issue",
            "user_id": 682,
            "username": "2informaticos",
            "post_date": "2022-03-09 00:59:09",
            "message": "Considering port A, <SIGNAL>TBT_A_HPD</SIGNAL> must go high when connect external monitor there.\nAt same time, <CHIP>U3220</CHIP> should send out high level at <SIGNAL>DP_TBTPA_HPD</SIGNAL>.\nOf course, 3V3 is required at <SIGNAL>DP_PWR</SIGNAL> pin of J3200.\n\nWhich is your actual case?\nYou may need to change <CHIP>U3220</CHIP>/320."
        },
        {
            "post_id": 87138,
            "thread_id": 62431,
            "title": "<LOGIC BOARD PART NUMBER>820-00163</LOGIC BOARD PART NUMBER>-A Thunderbolt Detection Issue",
            "user_id": 35583,
            "username": "ideachief",
            "post_date": "2022-03-09 19:09:23",
            "message": "So, measuring <SIGNAL>TBT_A_HPD</SIGNAL> at J3200 (pin 22) I get ~3.3V.  Measuring <SIGNAL>DP_TBTPA_HPD</SIGNAL> at <CHIP>U3220</CHIP> pin 12 (TP[1]<SIGNAL>DP_TBTPA_HPD</SIGNAL>), I only get 0.098V.  Does that indicate that most likely <CHIP>U3220</CHIP> (and <CHIP>U3320</CHIP>) are bad?"
        },
        {
            "post_id": 87139,
            "thread_id": 62431,
            "title": "<LOGIC BOARD PART NUMBER>820-00163</LOGIC BOARD PART NUMBER>-A Thunderbolt Detection Issue",
            "user_id": 35583,
            "username": "ideachief",
            "post_date": "2022-03-09 20:28:33",
            "message": "Just FYI, Tried swapping <CHIP>U3220</CHIP> from donor board and no change."
        },
        {
            "post_id": 87140,
            "thread_id": 62431,
            "title": "<LOGIC BOARD PART NUMBER>820-00163</LOGIC BOARD PART NUMBER>-A Thunderbolt Detection Issue",
            "user_id": 35583,
            "username": "ideachief",
            "post_date": "2022-03-09 20:50:59",
            "message": "Don't know if it is helpful, but here are all the voltages from <CHIP>U3220</CHIP> measured at the IC:\n\n<CHIP>U3220</CHIP>\n<SIGNAL>DP_TBTPA_AUXCH_N</SIGNAL> Pin 1 = 0.986\n<SIGNAL>DP_TBTPA_AUXCH_P</SIGNAL> Pin 2 = 0.583\n<SIGNAL>PP3V3_S4_TBTAPWR</SIGNAL> Pin 3 = 3.236\n<SIGNAL>DP_TBTPA_DDC_DATA</SIGNAL> Pin 4 = 0.029\n<SIGNAL>DP_TBTPA_DDC_CLK</SIGNAL> Pin 5 = 0.788\n<SIGNAL>TBT_A_DP_PWRDN</SIGNAL> Pin 6 = 0.956\n<SIGNAL>TBT_A_D2R_C_N</SIGNAL><1> Pin 7 = 0.487\n<SIGNAL>TBT_A_D2R_C_P</SIGNAL><1> Pin 8 = 0.481\nPin 9 = GND\n<SIGNAL>DP_TBTPA_ML_N</SIGNAL><1> Pin 10 = 0.004\n<SIGNAL>DP_TBTPA_ML_P</SIGNAL><1> Pin 11 = 0.008\n<SIGNAL>DP_TBTPA_HPD</SIGNAL> Pin 12 = 0.114\n<SIGNAL>TBT_A_LSRX</SIGNAL> Pin 13 = 0.082\n<SIGNAL>TBT_A_LSTX</SIGNAL> Pin 14 = 0.095\n<SIGNAL>TBT_A_CIO_SEL</SIGNAL> Pin 15 = 0.00\n<SIGNAL>TBT_A_CONFIG1_BUF</SIGNAL> Pin 16 = 0.114\n<SIGNAL>TBT_A_HPD</SIGNAL> Pin 17 = 3.254\n<SIGNAL>TBT_A_CONFIG1_RC</SIGNAL> Pin 18 = 3.131\n<SIGNAL>DP_A_LSX_ML_P</SIGNAL><1> Pin 19 = 0.010\n<SIGNAL>DP_A_LSX_ML_N</SIGNAL><1> Pin 20 = 0.009\nPin 21 = GND\n<SIGNAL>TBT_A_D2R1_AUXDDC_P</SIGNAL> Pin 22 = 2.65\n<SIGNAL>TBT_A_D2R1_AUXDDC_N</SIGNAL> Pin 23 = 2.758\n<SIGNAL>TBTDP_AUXIO_EN</SIGNAL> Pin 24 = 0.999"
        },
        {
            "post_id": 87143,
            "thread_id": 62431,
            "title": "<LOGIC BOARD PART NUMBER>820-00163</LOGIC BOARD PART NUMBER>-A Thunderbolt Detection Issue",
            "user_id": 682,
            "username": "2informaticos",
            "post_date": "2022-03-10 00:19:46",
            "message": "\"You can try changing TBT ROM (<CHIP>U2890</CHIP>).\nLet <CHIP>U2800</CHIP> as last option...\""
        },
        {
            "post_id": 87264,
            "thread_id": 62431,
            "title": "<LOGIC BOARD PART NUMBER>820-00163</LOGIC BOARD PART NUMBER>-A Thunderbolt Detection Issue",
            "user_id": 35583,
            "username": "ideachief",
            "post_date": "2022-03-11 22:37:36",
            "message": "Well, I replaced <CHIP>U2890</CHIP> and still nothing.  The MacBook still shows the Thunderbolt controller, but doesn't detect anything plugged into it.  I suppose I could replace <CHIP>U2800</CHIP>, but I don't think it's worth it at this point, not to mention if I did and it didn't work..."
        },
        {
            "post_id": 87272,
            "thread_id": 62431,
            "title": "<LOGIC BOARD PART NUMBER>820-00163</LOGIC BOARD PART NUMBER>-A Thunderbolt Detection Issue",
            "user_id": 682,
            "username": "2informaticos",
            "post_date": "2022-03-12 03:21:20",
            "message": "Did you pick the TBT ROM from donor board, same model?\n\nOnce HDMI output is good, I don't see a real reason to use thunderbolt connectors.\nNobody really needs LAN connection with a laptop."
        },
        {
            "post_id": 93497,
            "thread_id": 62431,
            "title": "<LOGIC BOARD PART NUMBER>820-00163</LOGIC BOARD PART NUMBER>-A Thunderbolt Detection Issue",
            "user_id": 35583,
            "username": "ideachief",
            "post_date": "2022-10-25 21:20:10",
            "message": "I wanted to thank you for your assistance, but I just ended up buying a replacement board where everything worked, for a very decent price."
        }
    ]
}