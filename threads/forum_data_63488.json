[
    {
        "post_id":95718,
        "thread_id":63488,
        "title":"820-00840 MacBook Pro 2017 board with USB data line issues",
        "user_id":28264,
        "username":"sekidata",
        "post_date":"2023-01-19 09:56:46",
        "message":"This A1708 board had extensive liquid damage, mostly in the USB-C and speaker circuitry area. I replaced several corroded components and restored some vias.\n\nNow this board is at 20V USB-C, starting up, and functioning well, with the exception of USB-C data: any external USB drives are powered but not recognized. However, the startup manager (option key during restart) does recognize the external drives.\n\nWhere to start trying to restore full USB data functionality?"
    },
    {
        "post_id":95721,
        "thread_id":63488,
        "title":"820-00840 MacBook Pro 2017 board with USB data line issues",
        "user_id":682,
        "username":"2informaticos",
        "post_date":"2023-01-19 13:21:13",
        "message":"Replace USB redriver; the small chip which doesn't appear on the schematic\/boardview."
    },
    {
        "post_id":95729,
        "thread_id":63488,
        "title":"820-00840 MacBook Pro 2017 board with USB data line issues",
        "user_id":28264,
        "username":"sekidata",
        "post_date":"2023-01-19 14:52:10",
        "message":"After poking around, I found that several protection diodes on USB data lines (D3306, D3310, D3314) were blown off the board. I traced these to shorts to ground on these lines:\n\nUSBC_XA_D2R_N<1>, USBC_XA_D2R_N<2>\nUSBC_XA_D2R_P<1>, USBC_XA_D2R_P<2>\nUSBC_XB_D2R_N<1>, USBC_XB_R2D_C_N<1>\n\nThese are only connected to the USB data controller U2800. Removing U2800 removed the shorts. \nReplace U2800 and the redriver chip?"
    },
    {
        "post_id":95731,
        "thread_id":63488,
        "title":"820-00840 MacBook Pro 2017 board with USB data line issues",
        "user_id":682,
        "username":"2informaticos",
        "post_date":"2023-01-19 16:21:16",
        "message":"USB ports should work in basic mode, if redriver chip is good.\nU2800 is needed only for thunderbolt options; like video out."
    },
    {
        "post_id":95800,
        "thread_id":63488,
        "title":"820-00840 MacBook Pro 2017 board with USB data line issues",
        "user_id":28264,
        "username":"sekidata",
        "post_date":"2023-01-23 09:00:52",
        "message":"Ok, I removed U2800 for now. The redriver chip (PI3USB32) showed some minor corrosion, so I replaced it from a donor board. However, the situation is unchanged: external drives are only recognized during startup but not when OS is loaded."
    },
    {
        "post_id":95806,
        "thread_id":63488,
        "title":"820-00840 MacBook Pro 2017 board with USB data line issues",
        "user_id":682,
        "username":"2informaticos",
        "post_date":"2023-01-23 10:48:45",
        "message":"Compare the behavior of USB 2.0 and USB 3.0 devices."
    },
    {
        "post_id":95813,
        "thread_id":63488,
        "title":"820-00840 MacBook Pro 2017 board with USB data line issues",
        "user_id":28264,
        "username":"sekidata",
        "post_date":"2023-01-23 12:34:34",
        "message":"Neither is recognized. I'd be happy getting USB 2.0 to work. \n\nFrom the USB-C connector pinout, I understand that I need the center pins (D+, D-) to work, correct? They connect to the CD3215s via USBC_XA_USB_TOP_N and similar lines. What else needs to be working to establish functional USB 2.0 communication?"
    },
    {
        "post_id":95814,
        "thread_id":63488,
        "title":"820-00840 MacBook Pro 2017 board with USB data line issues",
        "user_id":682,
        "username":"2informaticos",
        "post_date":"2023-01-23 12:43:50",
        "message":"The issue may be related with U2800, as it appears only when macOS starts to load the drivers."
    },
    {
        "post_id":95819,
        "thread_id":63488,
        "title":"820-00840 MacBook Pro 2017 board with USB data line issues",
        "user_id":28264,
        "username":"sekidata",
        "post_date":"2023-01-23 15:59:47",
        "message":"U2800 has been off the board for all tests since you stated that it is only needed for data such as video out."
    },
    {
        "post_id":95820,
        "thread_id":63488,
        "title":"820-00840 MacBook Pro 2017 board with USB data line issues",
        "user_id":682,
        "username":"2informaticos",
        "post_date":"2023-01-23 17:11:15",
        "message":"Seems that macOS needs it in fact..."
    }
]