{
    "instruction": "[INST] Analyze this file to learn MacBook motherboard repair. The 'definitions' section explains key technical terms. The 'threads' section contains real-world repair discussions. Use both sections to understand and learn how to troubleshoot MacBook issues. Posts from username 'larossmann' , 'dukefawks' , and '2informaticos' are posts from trusted experts.[/INST]",
    "definitions": {
        "820-2849": "What is 820-2849? a LOGIC BOARD PART NUMBER.",
        "KERNEL_TASK": "What is KERNEL_TASK? KERNEL_TASK is a process that will take up all the CPU and cause the macbook to run very slow when there is a sensor issue. When you see KERNEL_TASK as a process taking up lots of CPU and the machine is working very slow or has loud fans, use a program like hwmonitor to check voltage, amperage, and temperature sensors and look for something that doesnâ€™t look right..",
        "PPBUS_G3H": "What is PPBUS_G3H? Main system power rail that charges the battery, or is power from the battery, that everything else is powered from. .",
        "PP5V_S0": "What is PP5V_S0? PP5V_S0 is a 5v power rail present when the system is in an S0 working state..",
        "PPVCORE_S0_CPU": "What is PPVCORE_S0_CPU? This is the primary power rail for the CPU that powers the CPU, known as CPU vcore. Without this, the machine will be braindead. .",
        "PPVCORE_GPU": "What is PPVCORE_GPU? This is the main power rail for the GPU. This is required for the GPU to turn on so you can get image on the display. .",
        "PP0V75_S0_DDRVTT": "What is PP0V75_S0_DDRVTT? PP0V75_S0_DDRVTT is a 0.75v power rail present when the machine is in an S0 working state .",
        "PPVBAT_G3H_CHGR_REG": "What is PPVBAT_G3H_CHGR_REG? This is battery power that flows to the system AFTER it has gone through a current sense resistor, before it goes through a fuse to become PPBUS_G3H power rail. .",
        "CHGR_PHASE_MID": "What is CHGR_PHASE_MID? a SIGNAL.",
        "C7360": "What is C7360? a CAPACITOR.",
        "C5305": "What is C5305? a CAPACITOR.",
        "C1651": "What is C1651? a CAPACITOR.",
        "PPBUS_CPU_IMVP_ISNS": "What is PPBUS_CPU_IMVP_ISNS? a SIGNAL.",
        "CPU_0_DIODE": "What is CPU_0_DIODE? a SIGNAL.",
        "CPU_0_PROXIMITY": "What is CPU_0_PROXIMITY? a SIGNAL.",
        "ENCLOSURE_BASE_0": "What is ENCLOSURE_BASE_0? a SIGNAL.",
        "ENCLOSURE_BASE_1": "What is ENCLOSURE_BASE_1? a SIGNAL.",
        "ENCLOSURE_BASE_2": "What is ENCLOSURE_BASE_2? a SIGNAL.",
        "GPU_0_DIODE": "What is GPU_0_DIODE? a SIGNAL.",
        "GPU_0_PROXIMITY": "What is GPU_0_PROXIMITY? a SIGNAL.",
        "HEATSINK_1": "What is HEATSINK_1? a SIGNAL.",
        "HEATSINK_2": "What is HEATSINK_2? a SIGNAL.",
        "MISC_PROXIMITY": "What is MISC_PROXIMITY? a SIGNAL.",
        "PALM_REST": "What is PALM_REST? a SIGNAL.",
        "U5388": "What is U5388? a CHIP.",
        "R5388": "What is R5388? a RESISTOR."
    },
    "threads": [
        {
            "post_id": 54953,
            "thread_id": 54953,
            "title": "<LOGIC BOARD PART NUMBER>820-2849</LOGIC BOARD PART NUMBER>, random kernel panics - possibly audio?",
            "user_id": 20001,
            "username": "RandomInsano",
            "post_date": "2019-11-30 16:04:26",
            "message": "Used machine, no history. Has a large dent from a hard drop on the front-right side. Currently hitting random kernel panics whether the machine is hot or cold. No visible water damage on the back of the motherboard.\n\nBecause coreaudiod seems to be on the CPU most often during death, I wonder if the sound hardware is to blame. Test details below.\n\nMacBook Pro (17-inch, Mid 2010)\n2.53 GHz Intel Core i5\nBTO/CTO\n\nI'm expecting this is the particular motherboard given the date and processor specs, but I can get more details if needed.\n[URL=\"http://www.powerbookmedic.com/MacBook-Pro-17-Unibody-253GHz-Core-i5-Logic-Board-661-5472-p-24188.html\"]http://www.powerbookmedic.com/MacBoo...2-p-24188.html[/URL]\n\nProcesses on the current thread during crash:\nCoreaudiod (more than twice)\n<SIGNAL>KERNEL_TASK</SIGNAL> (more than twice)\ncom.apple.geod (once)\n\nSteps to troubleshoot:\n\n1. Swapped RAM and SSD, reinstalled macOS 10.13.6\n2. Ran hard OpenGL and CPU processes\n2. Ran Ubuntu Linux 2019.04, similar random apps crashing\n3. Ran YouTube videos\n4. Disabled on-board graphics, discreet graphics\n\nI've managed to have the machine be fairly stable overnight playing audio *while muted* (left Google Play running for over eight hours without a crash), and I've pushed the discreet graphics hard with some WebGL aquarium demo and confirmed the GPU is being taxed by that with a tool called OpenGL Extensions Viewer:\n[URL]https://webglsamples.org/aquarium/aquarium.html[/URL]\n[URL=\"https://apps.apple.com/us/app/opengl-extensions-viewer/id444052073\"]https://apps.apple.com/us/app/opengl...er/id444052073[/URL]\n\nI've also run some 15-20 minute compiles and Cinebench R20 to make sure the CPU isn't the problem, and it seems to be unaffected.\n\nTo make sure the audio circuit wasn't the problem, I did try running YouTube videos through Bluetooth audio and crashing still occurs. It does.\n\nI've tried disabling the internal graphics from the power pane in macOS and it still crashed. I've disabled discreet graphics with the NVRAM trick and it still crashes.\n\nAll of the above was done while plugged into power and fully charged. When battery dropped to ~%80 crashes happened in quick succession every three minutes or so (too short to be able to save the crash report text) until I plugged into power. I'll try and replicate again.\n\n\nI'd appreciate some ideas on what to try and narrow down where on the PCB I should start checking for voltage/cracked traces."
        },
        {
            "post_id": 54954,
            "thread_id": 54953,
            "title": "<LOGIC BOARD PART NUMBER>820-2849</LOGIC BOARD PART NUMBER>, random kernel panics - possibly audio?",
            "user_id": 20001,
            "username": "RandomInsano",
            "post_date": "2019-11-30 16:13:29",
            "message": "Hmm. Noticed after the last crash that the discreet GPU is back. No upgrade or anything. I was under the impression this'd stick a little longer, and involuntary nvram reset is a hell of a thing to search for on Google.\n\nQuestions from me so far on this thread:\n\n1. What are the motherboard voltages / tests I can do here?\n2. Does the NVRAM get reset often with macOS 10.13.6?"
        },
        {
            "post_id": 54957,
            "thread_id": 54953,
            "title": "<LOGIC BOARD PART NUMBER>820-2849</LOGIC BOARD PART NUMBER>, random kernel panics - possibly audio?",
            "user_id": 682,
            "username": "2informaticos",
            "post_date": "2019-12-01 00:53:50",
            "message": "Run ASD and see if reports any error.\nAlso use gfxcardstatus to switch between graphics for tests.\nStill crashes on charger only (no battery)?"
        },
        {
            "post_id": 54967,
            "thread_id": 54953,
            "title": "<LOGIC BOARD PART NUMBER>820-2849</LOGIC BOARD PART NUMBER>, random kernel panics - possibly audio?",
            "user_id": 20001,
            "username": "RandomInsano",
            "post_date": "2019-12-01 22:08:21",
            "message": "ASD - Downloading pack now. Unsure which parts of the 52GB torrent are needed, but I'll figure it out.\ngfxcardstatus - crashed while forced to integrated. testing discreet now.\ncharger only - I'll unplug the battery tomorrow."
        },
        {
            "post_id": 54968,
            "thread_id": 54953,
            "title": "<LOGIC BOARD PART NUMBER>820-2849</LOGIC BOARD PART NUMBER>, random kernel panics - possibly audio?",
            "user_id": 682,
            "username": "2informaticos",
            "post_date": "2019-12-01 22:51:52",
            "message": "This can help you...\n[url]https://drive.google.com/open?id=128Xjkvr-bHI1cyLqms0nxae27r_YwhmH[/url]"
        },
        {
            "post_id": 54987,
            "thread_id": 54953,
            "title": "<LOGIC BOARD PART NUMBER>820-2849</LOGIC BOARD PART NUMBER>, random kernel panics - possibly audio?",
            "user_id": 20001,
            "username": "RandomInsano",
            "post_date": "2019-12-02 18:01:37",
            "message": "Definitely helpful!\n\nASD - EFI passed (except S.M.A.R.T., DMA skipped), OS failed with 27 failed cases\ngfxcardstatus - Crashes regardless of integrated or discreet\ncharger only - boot loop. Never manages to bring up the GUI before dying and blinking five times.\n\n\nNotable thing about the failed tests is that I could visibly see their output (lines, triangles, foggy boxes). I'm not sure if the particular version of the test suite matters, but I chose the .3 version assuming it was the newest."
        },
        {
            "post_id": 54992,
            "thread_id": 54953,
            "title": "<LOGIC BOARD PART NUMBER>820-2849</LOGIC BOARD PART NUMBER>, random kernel panics - possibly audio?",
            "user_id": 682,
            "username": "2informaticos",
            "post_date": "2019-12-03 02:12:48",
            "message": "Did you try one RAM module at a time, each slot by separate?\nPossibly cracked solders/traces under PCH/CPU, if was dropped..."
        },
        {
            "post_id": 55008,
            "thread_id": 54953,
            "title": "<LOGIC BOARD PART NUMBER>820-2849</LOGIC BOARD PART NUMBER>, random kernel panics - possibly audio?",
            "user_id": 20001,
            "username": "RandomInsano",
            "post_date": "2019-12-03 06:07:19",
            "message": "No, I didn't think it was necessary given the boot loop and the memory tests that passed both in the EFI and OS test suites.\n\nI can give them a wiggle while running a memory test. Anything else I can check/do while I have the toolbox out?\n\nI'm wondering if there's a voltage regulator circuit just on the edge of unusable, but I don't do this sort of thing that often."
        },
        {
            "post_id": 55071,
            "thread_id": 54953,
            "title": "<LOGIC BOARD PART NUMBER>820-2849</LOGIC BOARD PART NUMBER>, random kernel panics - possibly audio?",
            "user_id": 20001,
            "username": "RandomInsano",
            "post_date": "2019-12-05 18:21:12",
            "message": "Alrighty, tests with RAM in the bottom slot resulted in multiple kernel panics in the OS test suite. RAM in the top slot did the same.\n\nI tapped on the RAM and various parts of the board while the test was happening and it seems to fail only when doing the video test.\n\nI'm up for more ideas.\n\n\n\nRandom extra adventures that may not be relevant: I noticed the gmux gets too hot to touch seemingly randomly then cools off quickly.\n\nOn a whim I started a Windows XP installation with the battery disconnected (where it does not even boot to the login screen in macOS) and it's able to run most of the way through until got to initializing hardware and then had the BSOD. The first run through it died without a specific module, the second run through it died in CDFS.sys. I'm considering running some tests without a GUI."
        },
        {
            "post_id": 55073,
            "thread_id": 54953,
            "title": "<LOGIC BOARD PART NUMBER>820-2849</LOGIC BOARD PART NUMBER>, random kernel panics - possibly audio?",
            "user_id": 20001,
            "username": "RandomInsano",
            "post_date": "2019-12-05 21:42:43",
            "message": "Downloaded OpenBoardView and the schematics and did some poking around this evening.\n\n[CODE]\n[FONT=courier new]<SIGNAL>PPVCORE_GPU</SIGNAL>      = 0.856V (when discreet graphics enabled, 0V with integrated)\n<SIGNAL>PPBUS_G3H</SIGNAL>        = 7.8V   (measured from <CAPACITOR>C5305</CAPACITOR>)\n<SIGNAL>PP0V75_S0_DDRVTT</SIGNAL> = 0.767V (measured from <CAPACITOR>C7360</CAPACITOR>)\n<SIGNAL>PP5V_S0</SIGNAL>          = 5.00V  (measured from J5660)\n<SIGNAL>PPVCORE_S0_CPU</SIGNAL>   = 1.096v (booting) ~0.772V (idle, measured from <CAPACITOR>C1651</CAPACITOR>)[/FONT]\n[/CODE]\n\n<SIGNAL>PPBUS_G3H</SIGNAL> should be 6V according to quadrant D7 on page 8 of schematic, but that seems impossible given <SIGNAL>PPVBAT_G3H_CHGR_REG</SIGNAL> and <SIGNAL>CHGR_PHASE_MID</SIGNAL> are both 8.4 on the opposite side of F7040/F7041 (page 70).\n\nUnplugging power and running off battery, <SIGNAL>PPBUS_G3H</SIGNAL> = 7.70V and with the battery + charger it eventually climbed to 8.35\n\n\nWhile the machine was being its grumpy self, I didn't see any serious dips in power on <SIGNAL>PPVCORE_S0_CPU</SIGNAL> or <SIGNAL>PP0V75_S0_DDRVTT</SIGNAL> so I'm assuming things are happy voltage-wise for both RAM and CPU. Any ideas of where to poke considering it *seems* to be graphics related?"
        },
        {
            "post_id": 55077,
            "thread_id": 54953,
            "title": "<LOGIC BOARD PART NUMBER>820-2849</LOGIC BOARD PART NUMBER>, random kernel panics - possibly audio?",
            "user_id": 682,
            "username": "2informaticos",
            "post_date": "2019-12-06 00:49:07",
            "message": "You should change GPU and see what happens..."
        },
        {
            "post_id": 55135,
            "thread_id": 54953,
            "title": "<LOGIC BOARD PART NUMBER>820-2849</LOGIC BOARD PART NUMBER>, random kernel panics - possibly audio?",
            "user_id": 20001,
            "username": "RandomInsano",
            "post_date": "2019-12-08 11:27:56",
            "message": "I?ve already done the enable/disable GPU and so not much difference. Swapping the GPU chip itself is going to be more than I'm capable of, so if that's the next step I think you can stop here. It's a hobby on my side, not a job so I don't want to burn your time budget on my fooling around.\n\nI've done a few more things though: [LIST=1]\n[*]Running a background process to occupy two cores lets the uptime go from between 30 to 60 minutes to eight hours while doing the same workflow (watching YouTube, editing files, music). The toastier the better it seems, so I was wrong in my original post.\n[*]Running Ubuntu Server so that the graphics aren?t pushed too hard still crashes when the machine is cooler\n[*]The machine is using an older 85w charger. Model number A1172.\n[/LIST] I compiled a tool called SMCkit that lists the temperatures in the system. Here are the temperatures when things are ?stable?:\n\n[code]\n-- Temperature --\n<SIGNAL>CPU_0_DIODE</SIGNAL>          84.0?C\n<SIGNAL>CPU_0_PROXIMITY</SIGNAL>      67.0?C\n<SIGNAL>ENCLOSURE_BASE_0</SIGNAL>     34.0?C\n<SIGNAL>ENCLOSURE_BASE_1</SIGNAL>     34.0?C\n<SIGNAL>ENCLOSURE_BASE_2</SIGNAL>     31.0?C\n<SIGNAL>GPU_0_DIODE</SIGNAL>          -1.0?C   # This comes and goes, but when it?s here, it?s below 100degC\n<SIGNAL>GPU_0_PROXIMITY</SIGNAL>      58.0?C\n<SIGNAL>HEATSINK_1</SIGNAL>           51.0?C\n<SIGNAL>HEATSINK_2</SIGNAL>           50.0?C\n<SIGNAL>MISC_PROXIMITY</SIGNAL>       51.0?C\n<SIGNAL>PALM_REST</SIGNAL>            32.0?C\n[/code]\n\nI?ve also taken a few more voltage measurements. Most are right in Line with their tolerances, but <SIGNAL>PPBUS_CPU_IMVP_ISNS</SIGNAL> seems to fluctuate:\n\n6.95v - under load\n7.47v - idle\n8.11v - with charger\n8.37v - with charger, no battery connected. Same value as <SIGNAL>PPBUS_G3H</SIGNAL>\n\nI found that when <SIGNAL>PPBUS_CPU_IMVP_ISNS</SIGNAL> = <SIGNAL>PPBUS_G3H</SIGNAL>, the system rebooted quite often.\n\n\nDoes anyone know what <SIGNAL>PPBUS_CPU_IMVP_ISNS</SIGNAL> is used for? It seems to feed into <SIGNAL>PPVCORE_S0_CPU</SIGNAL> from page 74 of the schematic."
        },
        {
            "post_id": 55136,
            "thread_id": 54953,
            "title": "<LOGIC BOARD PART NUMBER>820-2849</LOGIC BOARD PART NUMBER>, random kernel panics - possibly audio?",
            "user_id": 682,
            "username": "2informaticos",
            "post_date": "2019-12-08 11:58:59",
            "message": "<SIGNAL>PPBUS_CPU_IMVP_ISNS</SIGNAL> is practically same as <SIGNAL>PPBUS_G3H</SIGNAL>; only 10 miliohm resistor betwerrn both rails.\nIn fact I'm not even sure if is present, it appeares as OMIT; not soldered normally.\nPlease confirm if <RESISTOR>R5388</RESISTOR> and <CHIP>U5388</CHIP> are there.\nIf yes, change the resistor, or solder 5 miliohm instead; just solder another 10 miliohm on top of original."
        }
    ]
}