{
    "instruction": "[INST] Analyze this file to learn MacBook motherboard repair. The 'definitions' section explains key technical terms. The 'threads' section contains real-world repair discussions. Use both sections to understand and learn how to troubleshoot MacBook issues. Posts from username 'larossmann' , 'dukefawks' , and '2informaticos' are posts from trusted experts.[/INST]",
    "definitions": {
        "820-01700": "What is 820-01700? a LOGIC BOARD PART NUMBER.",
        "CD3217": "What is CD3217? This is a USB-C muxing chip responsible for USB-C communication with devices such as the laptop charger. The most common issue this chip is involved in is when a Macbook won’t charge or the charger is stuck at 5v instead of going to 20v..",
        "820-01598": "What is 820-01598? a LOGIC BOARD PART NUMBER.",
        "UPC_I2C_INT_L": "What is UPC_I2C_INT_L? a SIGNAL.",
        "USBC_TA_CC1": "What is USBC_TA_CC1? a SIGNAL.",
        "USBC_TA_CC2": "What is USBC_TA_CC2? a SIGNAL.",
        "USBC_TB_CC1": "What is USBC_TB_CC1? a SIGNAL.",
        "R5246": "What is R5246? a RESISTOR.",
        "PPBUS_G3H": "What is PPBUS_G3H? Main system power rail that charges the battery, or is power from the battery, that everything else is powered from. .",
        "PPVBUS_USBC_XB": "What is PPVBUS_USBC_XB? a SIGNAL.",
        "PPVBUS_USBC_XA": "What is PPVBUS_USBC_XA? a SIGNAL.",
        "PPVBUS_USBC_TA": "What is PPVBUS_USBC_TA? a SIGNAL.",
        "PPVBUS_USBC_TB": "What is PPVBUS_USBC_TB? a SIGNAL.",
        "PPVBUS_USBC": "What is PPVBUS_USBC? a SIGNAL.",
        "PP5V_S4_X_USBC": "What is PP5V_S4_X_USBC? a SIGNAL.",
        "PP5V_S4_T_USBC": "What is PP5V_S4_T_USBC? a SIGNAL.",
        "U3500": "What is U3500? a CHIP.",
        "A2141": "What is A2141? A2141 is a model number for a 16 inch size MacBook Pro Retina from years 2019 with EMC 3347, that may contain one of these boards depending on the year & configuration: 820-01700..",
        "820-00928": "What is 820-00928? a LOGIC BOARD PART NUMBER."
    },
    "threads": [
        {
            "post_id": 93677,
            "thread_id": 63243,
            "title": "<LOGIC BOARD PART NUMBER>820-01700</LOGIC BOARD PART NUMBER> Only works on battery, does not charge",
            "user_id": 7922,
            "username": "tcampbell34",
            "post_date": "2022-11-03 19:14:33",
            "message": "Hello. I have a <LOGIC BOARD PART NUMBER>820-01700</LOGIC BOARD PART NUMBER> that has no liquid damage, but was not turning on. I was getting 20v and amps fluctuating up to .700ma and then back down to 0.03a. The ports on the right side of the mac did not work at all and gave me 0v on my meter. I checked those ports and found a short on <SIGNAL>USBC_TB_CC1</SIGNAL>, <SIGNAL>USBC_TA_CC1</SIGNAL>, <SIGNAL>USBC_TA_CC2</SIGNAL>. I replaced UB300/400 with new chips I got on eBay and then I was getting 5v 0.27a on all 4 ports. I decided to try it with a charged battery and got it to turn on with the battery connected and it boots to the OS, but charger is not detected. Amp meter shows 20v 0.03a on all 4 ports when the board is on and booted with the battery connected. <SIGNAL>UPC_I2C_INT_L</SIGNAL> is always 0v, which I think is why the charger is not being detected. It is 1.8v on a good board. <RESISTOR>R5246</RESISTOR> is good. Doing more research I found this [URL]https://logi.wiki/index.php/CD3217_and_T2_Power_on_Sequence#820-001700_CD3217_Compatibility_issues[/URL] which seems to indicated that some <CHIP>CD3217</CHIP> chips are not compatible with this board. I then tried to take good 2 <CHIP>CD3217</CHIP> chips from a 2019 <LOGIC BOARD PART NUMBER>820-01598</LOGIC BOARD PART NUMBER> donor board and reballed them and replaced UB300/400 again, but I still have the same issue. I even tried a T2 firmware restore and it completed successfully, but did not fix the issue. What should I check next?"
        },
        {
            "post_id": 93699,
            "thread_id": 63243,
            "title": "<LOGIC BOARD PART NUMBER>820-01700</LOGIC BOARD PART NUMBER> Only works on battery, does not charge",
            "user_id": 7922,
            "username": "tcampbell34",
            "post_date": "2022-11-05 13:52:52",
            "message": "Update on this. I got another <LOGIC BOARD PART NUMBER>820-01700</LOGIC BOARD PART NUMBER> board that turns on but has a GPU issue. I took all 4 <CHIP>CD3217</CHIP> chips from this donor board and used them to replace all 4 CD3217s on the board I am working on. I also took both TBT rom chips from the donor board and swaped them on my board. So now I have a full set of compatiable <CHIP>CD3217</CHIP>'s and matching TBT roms, but I am still getting 5v 0.27a on all 4 ports without the battery and it still turns on only using a battery. I tried to do another DFU restore, but I cannot because now it seems I have no USB activity on any ports. I can tell the mac is in DFU mode based on the amps its taking, there is not communication over the tunderbolt cable, so nothing comes up on the other computer and I cannot do the restore. When the computer is on a booted, USB drive is not detected on 3 of the 4 ports, and one ports give me an error that it needs power.\n[ATTACH]60851[/ATTACH]"
        },
        {
            "post_id": 93708,
            "thread_id": 63243,
            "title": "<LOGIC BOARD PART NUMBER>820-01700</LOGIC BOARD PART NUMBER> Only works on battery, does not charge",
            "user_id": 682,
            "username": "2informaticos",
            "post_date": "2022-11-07 01:01:15",
            "message": "Compare diode mode readings around all <CHIP>CD3217</CHIP> chips with good board.\nPay atention to pages 32 and 112."
        },
        {
            "post_id": 93741,
            "thread_id": 63243,
            "title": "<LOGIC BOARD PART NUMBER>820-01700</LOGIC BOARD PART NUMBER> Only works on battery, does not charge",
            "user_id": 7922,
            "username": "tcampbell34",
            "post_date": "2022-11-07 13:20:03",
            "message": "I compared diode mode values on J3300 and JB500 with a good board and most of the signals are the same, except for the <SIGNAL>PPVBUS_USBC</SIGNAL> signals and PPBUS. PPBUS is only 0.360 which seems a little low compared to a good board.\n\nBad Board:\n<SIGNAL>PPVBUS_USBC_XA</SIGNAL> - 0.144\n<SIGNAL>PPVBUS_USBC_XB</SIGNAL> - 0.188\n<SIGNAL>PPVBUS_USBC_TA</SIGNAL> - 0.144\n<SIGNAL>PPVBUS_USBC_TB</SIGNAL> - 0.144\n<SIGNAL>PPBUS_G3H</SIGNAL> - 0.360\n\nGood Board:\n<SIGNAL>PPVBUS_USBC_XA</SIGNAL> - 0.188\n<SIGNAL>PPVBUS_USBC_XB</SIGNAL> - 0.144\n<SIGNAL>PPVBUS_USBC_TA</SIGNAL> - 0.188\n<SIGNAL>PPVBUS_USBC_TB</SIGNAL> - 0.188\n<SIGNAL>PPBUS_G3H</SIGNAL> - 0.440"
        },
        {
            "post_id": 93749,
            "thread_id": 63243,
            "title": "<LOGIC BOARD PART NUMBER>820-01700</LOGIC BOARD PART NUMBER> Only works on battery, does not charge",
            "user_id": 682,
            "username": "2informaticos",
            "post_date": "2022-11-08 02:18:00",
            "message": "Are you using 96/140W charger for sure?\n\nDo you get 5V at L3500, or LB700, depending where the external USB device (not charger) is connected?"
        },
        {
            "post_id": 93766,
            "thread_id": 63243,
            "title": "<LOGIC BOARD PART NUMBER>820-01700</LOGIC BOARD PART NUMBER> Only works on battery, does not charge",
            "user_id": 7922,
            "username": "tcampbell34",
            "post_date": "2022-11-08 08:06:15",
            "message": "I am using a 140w charger.\n\nI get 5v on <SIGNAL>PP5V_S4_X_USBC</SIGNAL> when I plug in a USB drive to the ports on the left side, but the light does not come on on the drive, and it gives me the error that it needs power. When I plug the drive into the other side, I get 0v on <SIGNAL>PP5V_S4_T_USBC</SIGNAL>, and usb drive does not seem to be recognized at all. \n\nI have one of these adapters [URL]https://www.apple.com/shop/product/MUF82AM/A/usb-c-digital-av-multiport-adapter[/URL], and when I plug the usb drive into the USB-A port on that adapter and then plug it into one of the ports on the left side, the light on the drive turns on and flashes and the drive is reconginized and usable in MacOS. No more error saying it needs power now when using this adapter. Not sure why."
        },
        {
            "post_id": 93777,
            "thread_id": 63243,
            "title": "<LOGIC BOARD PART NUMBER>820-01700</LOGIC BOARD PART NUMBER> Only works on battery, does not charge",
            "user_id": 682,
            "username": "2informaticos",
            "post_date": "2022-11-08 09:45:52",
            "message": "<CHIP>U3500</CHIP> and UB700 work in the same manner.\nCompare their voltages when you connect an external USB device on the corresponding port.\nCheck their power rails and enable signal."
        },
        {
            "post_id": 94233,
            "thread_id": 63243,
            "title": "<LOGIC BOARD PART NUMBER>820-01700</LOGIC BOARD PART NUMBER> Only works on battery, does not charge",
            "user_id": 7922,
            "username": "tcampbell34",
            "post_date": "2022-11-20 16:47:16",
            "message": "This is solved now. See below for what I did to fix it. Hopefully it helps someone else. \n\nI tried multiple different <CHIP>CD3217</CHIP>'s from multiple different donor boards, and none of them seemed to work. I was always getting 5v 0.27a on all 4 ports using just the charger, but it turns on using battery. Out of desperation, I put all 4 of the original <CHIP>CD3217</CHIP>'s back on the board (including the 2 bad UB300 and UB400 chips) and put the original TBT rom's back as well. Now I was back to where I started with the board giving me 20v now and up to .700ma before it turns itself off. In this state, it does not turn on even with the battery, but I do get 20v and the battery will charge now. This confirms the issue is with the <CHIP>CD3217</CHIP>’s I was using. It seems the <CHIP>CD3217</CHIP>'s I used are not compatible with this board, although I do not really know how to tell which ones are and which are not. I purchased 2 <CHIP>CD3217</CHIP>'s online that were specifically said to be compatible with an <MACBOOK MODEL NUMBER>A2141</MACBOOK MODEL NUMBER>, and replaced UB300 and UB400 again with these 2 new chips. After that I was still getting only 5v 0.27a on all 4 ports, but this time the ports on the UB300/400 side were power cycling every 5 seconds or so. I suspected and issue with UB090 so I took UB090 off of a <LOGIC BOARD PART NUMBER>820-00928</LOGIC BOARD PART NUMBER> donor board and flashed it with the correct firmware for an <MACBOOK MODEL NUMBER>A2141</MACBOOK MODEL NUMBER>, and then replaced UB090 on this board with that one. Now I finally got 20v using just the charger and the board turns on without the battery. Now everything seems to working correctly."
        }
    ]
}