{"post_id":97270,"thread_id":63673,"title":"820-3787-A mid 2015 DG power cycle","user_id":46233,"username":"eclipsevl","post_date":"2023-03-07 10:37:29","message":"Hi,\n\nI've got a 820-3787-A board which is stuck in power cycle. PP3V3_S5 is fine. Got orange led on the magsafe plug.\nWith multimeter I could see that PP1V5_S0, PPVCC_S0_CPU, PP1V5R1V35_GPU_REG_R, P1V05_S0GPU_REG_R, PP1V05_S0_REG_R, PP1V35_S3, PP5V_S4 are trying to start up, there is a voltage for a fraction of a second. \n\nCouple of times after powering the board up, I saw PP1V5R1V35_GPU_REG_R at 1.5V and fans started to spin. It happened twice.\nAnother two suspicious things:\n1. There was a blown ceramic cap at PP1V5R1V35_GPU_REG_R line, however without making short circuit. After removal I found that pad connected to PP1V5R1V35_GPU_REG_R  was not making contact - pcb pad was ripped off. Cap itself was shorted. Didn't look like it was mechanical damage.\n2. SPI flash was soldered - there is residue of a flux. Not sure if it is relevant to problem with startup sequence.\n\nResistance at PPVCC_S0_CPU is ~35 Ohm, P1V05_S0GPU_REG_R ~200Ohm, PP1V5R1V35_GPU_REG_R ~150Ohm. Could not find any visually bad component\/short circuit.\n\nNeed some help with further debug."}
{"post_id":97275,"thread_id":63673,"title":"820-3787-A mid 2015 DG power cycle","user_id":682,"username":"2informaticos","post_date":"2023-03-07 11:41:10","message":"First of all, welcome to the forum!\n\nBe sure to correctly rebuild the broken trace; where you've found the shorted cap.\nTest if machine turns on in SMC bypass mode.\nCheck all SPI Bus Termination resistors and their traces.\nPLT_RESET_L pulsing too?\nJust in case, flash known good BIOS, clean ME."}
{"post_id":97276,"thread_id":63673,"title":"820-3787-A mid 2015 DG power cycle","user_id":46233,"username":"eclipsevl","post_date":"2023-03-07 12:11:36","message":"Thank you! :)\n\n> Be sure to correctly rebuild the broken trace; where you've found the shorted cap. \nThere were no broken traces, looks like cap was connected only to via.\n\n> Check all SPI Bus Termination resistors and their traces. \nThere is 3.3k resistor at CS, no external resistors on other lines.\n\n> PLT_RESET_L pulsing too? \nYes, there is a pulse.\n\n> Just in case, flash known good BIOS, clean ME. \nOk, this is new to me. I will figure out how to program SPI flash, but have no idea where to get bios image. Hope it is possible to google it somewhere."}
{"post_id":97277,"thread_id":63673,"title":"820-3787-A mid 2015 DG power cycle","user_id":46233,"username":"eclipsevl","post_date":"2023-03-07 12:48:05","message":"Ok, got weird results in SMC bypass.\n\n1. First attempt it started right away, fans spinning 100%\n2. Second attempt - It started at like after ~4-5 cycles (power up cycles).\n\nPPVCC_S0_CPU = 1.8\nPP1V5R1V35_GPU_REG_R = 1.5\nP1V05_S0GPU_REG_R = 1.05\nPP1V05_S0_REG_R = 1.05\nPP1V35_S3, \nPP5V_S4 = 5\n\nPPVOUT_S0_LCDBKLT = 0 (should it be high in SMC bypass?)\n\nAfter that - it always need several cycles to start up. Feels like there is a bad cap somewhere."}
{"post_id":97281,"thread_id":63673,"title":"820-3787-A mid 2015 DG power cycle","user_id":682,"username":"2informaticos","post_date":"2023-03-07 16:42:54","message":"You've said ripped off capacitor pad.\nNot sure if was in the middle of the via; was the reason I mentioned trace continuity checking.\n\nStarting in SMC bypass suppose a problem with a SMC sensor (pages 44-46); check AVREF_SMC first.\nWhen started, check for USB activity; don't waste time checking backlight yet.\n\n[URL unfurl=\"true\"]https:\/\/drive.google.com\/file\/d\/1TiQAXEFpoDdoG5UwlT-WfHpudY_ajVBB\/view?usp=share_link[\/URL]"}
{"post_id":97313,"thread_id":63673,"title":"820-3787-A mid 2015 DG power cycle","user_id":46233,"username":"eclipsevl","post_date":"2023-03-08 16:04:35","message":">Starting in SMC bypass suppose a problem with a SMC sensor (pages 44-46); check AVREF_SMC first.\n AVREF_SMC = 3.3V\n\n>When started, check for USB activity; don't waste time checking backlight yet. \nDid not check USB activity yet; checked activity on SPI CS line - always high.\n\nNew observation: even without SMC bypass board eventually starts up for ~5 seconds (CPU, GPU voltages), shuts down. Then cycle repeats.\nThe only difference with SMC bypass: after startup it does not shuts down.\n\nNot sure if it says something.\n\nThank you so much for the bios!"}
{"post_id":97316,"thread_id":63673,"title":"820-3787-A mid 2015 DG power cycle","user_id":682,"username":"2informaticos","post_date":"2023-03-08 17:39:26","message":"Did you try the BIOS file?"}
