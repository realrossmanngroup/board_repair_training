{
    "instruction": "[INST] Analyze this file to learn MacBook motherboard repair. The 'definitions' section explains key technical terms. The 'threads' section contains real-world repair discussions. Use both sections to understand and learn how to troubleshoot MacBook issues. Posts from username 'larossmann' , 'dukefawks' , and '2informaticos' are posts from trusted experts.[/INST]",
    "definitions": {},
    "threads": [
        {
            "post_id": 100290,
            "thread_id": 64015,
            "title": "A1990 Constant Kernel Panic: AMDFramebufferVIB::setPowerState",
            "user_id": 28726,
            "username": "ronaldo",
            "post_date": "2023-06-28 01:19:16",
            "message": "Hi, we have an A1990, i9 & Radeon 560X. Before it was freezing every few seconds, almost as if failing SSD, even on external macOS installation. I have tried a clean reinstall, revive + restore T2 firmware and it now works fine, other than it seems to kernel panic after some time in sleep.\n\nBelow is the kernel panic log, its similar to a lot of posts online for the same model, with no comments on how to fix the issue, and whether its firmware related or an LB issue. Most seemed to happen running Catalina but I am on the latest version of macOS Ventura.\n\n[SPOILER=\"Kernel Panic Log\"]\npanic(cpu 0 caller 0xffffff801f6fb928): AMDFramebufferVIB::setPowerState(0xffffff9055643800 : 0xffffff7fb488a8ee, 0 -> 1) timed out after 45641 ms @IOServicePM.cpp:5604\nPanicked task 0xffffff8b88589bf8: 247 threads: pid 0: kernel_task\nBacktrace (CPU 0), panicked thread: 0xffffff951ececb30, Frame : Return Address\n0xffffffc88cc63a70 : 0xffffff801f06e4fd \n0xffffffc88cc63ac0 : 0xffffff801f1c30a4 \n0xffffffc88cc63b00 : 0xffffff801f1b2b29 \n0xffffffc88cc63b60 : 0xffffff801f00e951 \n0xffffffc88cc63b80 : 0xffffff801f06e7dd \n0xffffffc88cc63c70 : 0xffffff801f06de87 \n0xffffffc88cc63cd0 : 0xffffff801f7dc34b \n0xffffffc88cc63dc0 : 0xffffff801f6fb928 \n0xffffffc88cc63e30 : 0xffffff801f6fb2b9 \n0xffffffc88cc63e40 : 0xffffff801f71504e \n0xffffffc88cc63e80 : 0xffffff801f6f9fd8 \n0xffffffc88cc63ea0 : 0xffffff801f0c4958 \n0xffffffc88cc63ee0 : 0xffffff801f0c5a08 \n0xffffffc88cc63fa0 : 0xffffff801f00e19e \n\nProcess name corresponding to current thread (0xffffff951ececb30): kernel_task\n\nMac OS version:\n22F82\n\nKernel version:\nDarwin Kernel Version 22.5.0: Thu Jun  8 22:22:22 PDT 2023; root:xnu-8796.121.3~7/RELEASE_X86_64\nKernel UUID: B82210B0-6371-3C15-8D2B-47C6E1FB7879\nroots installed: 0\nKernelCache slide: 0x000000001ec00000\nKernelCache base:  0xffffff801ee00000\nKernel slide:      0x000000001ecdc000\nKernel text base:  0xffffff801eedc000\n__HIB  text base: 0xffffff801ed00000\nSystem model name: MacBookPro15,1 (Mac-937A206F2EE63C01)\nSystem shutdown begun: NO\nHibernation exit count: 0\n\nSystem uptime in nanoseconds: 217144541808\nLast Sleep:           absolute           base_tsc          base_nano\n  Uptime  : 0x000000328ed2d12a\n  Sleep   : 0x0000002796d15253 0x00000000583d1310 0x000000255f4346c4\n  Wake    : 0x00000027a666c264 0x0000000058cf057a 0x00000027a1a3e46e\nCompressor Info: 0% of compressed pages limit (OK) and 0% of segments limit (OK) with 0 swapfiles and OK swap space\nZone info:\n  Zone map: 0xffffff8052983000 - 0xffffffa052983000\n  . PGZ   : 0xffffff8052983000 - 0xffffff8056984000\n  . VM    : 0xffffff8056984000 - 0xffffff8522cb7000\n  . RO    : 0xffffff8522cb7000 - 0xffffff86bc31d000\n  . GEN0  : 0xffffff86bc31d000 - 0xffffff8b88650000\n  . GEN1  : 0xffffff8b88650000 - 0xffffff9054983000\n  . GEN2  : 0xffffff9054983000 - 0xffffff9520cb6000\n  . GEN3  : 0xffffff9520cb6000 - 0xffffff99ecfe9000\n  . DATA  : 0xffffff99ecfe9000 - 0xffffffa052983000\n  Metadata: 0xffffffccc0744000 - 0xffffffcce0744000\n  Bitmaps : 0xffffffcce0744000 - 0xffffffcce6744000\n  Extra   : 0 - 0\n\nlast started kext at 20856585632: |IOAVB!F    1140.6 (addr 0xffffff7fb465b000, size 81920)\nloaded kexts:\n>BCMWLANFirmware4388.Hashstore    1\n>BCMWLANFirmware4387.Hashstore    1\n>BCMWLANFirmware4378.Hashstore    1\n>BCMWLANFirmware4377.Hashstore    1\n>BCMWLANFirmware4364.Hashstore    1\n>BCMWLANFirmware4355.Hashstore    1\n>X86PlatformShim    1.0.0\n>!APlatformEnabler    2.7.0d0\n>AGPM    131\n@filesystems.autofs    3.0\n>!AHIDALSService    1\n>!ATopCaseHIDEventDriver    6440.7\n@kext.AMDFramebuffer    4.1.2\n>!AUpstreamUserClient    3.6.9\n@kext.AMDRadeonX4000    4.1.2\n@kext.AMDRadeonServiceManager    4.1.2\n>!AGFXHDA    240.1\n>!ABridgeAudio!C    340.1\n>!AGraphicsDevicePolicy    7.1.18\n>!A!IKBLGraphics    20.0.6\n@AGDCPluginDisplayMetrics    7.1.18\n>pmtelemetry    1\n@filesystems.nfs    1\n|IOUserEthernet    1.0.1\n>usb.!UUserHCI    1\n>!AHV    1\n>!ADiskImages2    198.100.13\n>!AMuxControl2    7.1.18\n@kext.AMD9500!C    4.1.2\n>AGDCBacklightControl    7.1.18\n>!ABacklight    180.8\n>!AMCCSControl    1.16\n@UVCService    1\n>!A!ISlowAdaptiveClocking    4.0.0\n>!A!ICFLGraphicsFramebuffer    20.0.6\n>!AFIVRDriver    4.1.0\n>!A!IPCHPMC    2.0.1\n>!AThunderboltIP    4.0.3\n>ACPI_SMC_PlatformPlugin    1.0.0\n>BridgeAudioCommunication    340.1\n>!AAVEBridge    6.1\n>!AFileSystemDriver    3.0.1\n@filesystems.tmpfs    1\n@filesystems.lifs    1\n@filesystems.hfs.kext    627.100.6\n@BootCache    40\n@!AFSCompression.!AFSCompressionTypeZlib    1.0.0\n@!AFSCompression.!AFSCompressionTypeDataless    1.0.0d1\n@filesystems.apfs    2142.120.7\n>!ABCMWLANBusInterfacePCIeMac    1\n@private.KextAudit    1.0\n>!ASmartBatteryManager    161.0.0\n>!AACPIButtons    6.1\n>!ASMBIOS    2.1\n>!AACPIEC    6.1\n>!AAPIC    1.7\n$!AUserConsent    1\n@!ASystemPolicy    2.0.0\n@nke.applicationfirewall    403\n|IOKitRegistryCompatibility    1\n|EndpointSecurity    1\n@Dont_Steal_Mac_OS_X    7.0.0\n@kec.Compression    1\n@kec.!AEncryptedArchive    1\n|IOAVB!F    1140.6\n@plugin.IOgPTPPlugin    1150.2\n>!AActuatorDriver    6440.7\n>!AHIDKeyboard    231\n>!AMultitouchDriver    6440.7\n>!AInputDeviceSupport    6440.8\n>!AHS!BDriver    6440.7\n>IO!BHIDDriver    9.0.0\n@kext.AMDRadeonX4100HWLibs    1.0\n>!UAudio    540.8\n>!AAudioClockLibs    240.1\n@kext.AMDRadeonX4000HWServices    4.1.2\n>!AHDA!C    440.2\n|IOHDA!F    440.2\n|IOAudio!F    440.2\n@vecLib.kext    1.2.0\n>!A!ILpssUARTv1    3.0.60\n>!A!ILpssUARTCommon    3.0.60\n>!AOnboardSerial    1.0\n>!ASMBusPCI    1.0.14d1\n@kext.triggers    1.0\n>IOHIDPowerSource    1\n>!ACallbackPowerSource    1\n|IO!BSerialManager    9.0.0\n|IO!BPacketLogger    9.0.0\n|IO!BHost!CUSBTransport    9.0.0\n|IO!BHost!CUARTTransport    9.0.0\n|IO!BHost!CTransport    9.0.0\n>IO!BHost!CPCIeTransport    9.0.0\n|CSR!BHost!CUSBTransport    9.0.0\n|Broadcom!BHost!CUSBTransport    9.0.0\n|Broadcom!B20703USBTransport    9.0.0\n>!ARSMChannel    1\n|IORSM!F    1\n>!AIPAppender    1.0\n>!AGraphicsControl    7.1.18\n@kext.AMDSupport    4.1.2\n>!ABacklightExpert    1.1.0\n|IONDRVSupport    597\n>!ASMBus!C    1.0.18d1\n@!AGPUWrangler    7.1.18\n|IOSlowAdaptiveClocking!F    1.0.0\n|IOAccelerator!F2    475.40.6\n@!AGraphicsDeviceControl    7.1.18\n|IOGraphics!F    597\n>!AThunderboltEDMSink    5.0.3\n>!AThunderboltDPOutAdapter    8.5.1\n>IOPlatformPluginLegacy    1.0.0\n>X86PlatformPlugin    1.0.0\n>IOPlatformPlugin!F    6.0.0d8\n>driverkit.serial    6.0.0\n>usb.IOUSBHostHIDDevice    1.2\n>usb.cdc.ecm    5.0.0\n>usb.cdc.ncm    5.0.0\n>usb.cdc    5.0.0\n>usb.networking    5.0.0\n>usb.!UHostCompositeDevice    1.2\n>!AThunderboltPCIDownAdapter    4.1.1\n>!AThunderboltDPInAdapter    8.5.1\n>!AThunderboltDPAdapter!F    8.5.1\n>!AHPM    3.4.4\n>!A!ILpssI2C!C    3.0.60\n>!A!ILpssI2C    3.0.60\n>!A!ILpssDmac    3.0.60\n>!ABSDKextStarter    3\n|IOSurface    336.50.1\n@filesystems.hfs.encodings.kext    1\n>!ASyntheticGame!C    10.6.3\n>!AXsanScheme    3\n>!AThunderboltNHI    7.2.81\n|IOThunderbolt!F    9.3.3\n>usb.!UVHCIBCE    1.2\n>usb.!UVHCICommonBCE    1.0\n>usb.!UVHCI    1.2\n>usb.!UVHCICommon    1.0\n>!AEffaceableNOR    1.0\n|IOBufferCopy!C    1.1.0\n|IOBufferCopyEngine!F    1\n|IONVMe!F    2.1.0\n>!ABCMWLANCoreMac    1.0.0\n|IO80211!F    1200.13.0\n>IOImageLoader    1.0.0\n>!AOLYHALMac    1\n|IOSerial!F    11\n>corecapture    1.0.4\n>usb.!UHostPacketFilter    1.0\n|IOUSB!F    900.4.2\n>usb.!UXHCIPCI    1.2\n>usb.!UXHCI    1.2\n>!AEFINVRAM    2.1\n>!AEFIRuntime    2.1\n>!ASMCRTC    1.0\n|IOSMBus!F    1.1\n|IOHID!F    2.0.0\n|IOTimeSync!F    1150.2\n|IOSkywalk!F    1.0\n>mDNSOffloadUserClient    1.0.1b8\n|IONetworking!F    3.4\n>DiskImages    493.0.0\n|IO!B!F    9.0.0\n|IOReport!F    47\n$quarantine    4\n$sandbox    300.0\n@kext.!AMatch    1.0.0d1\n>!ASSE    1.0\n>!AKeyStore    2\n>!UTDM    554\n|IOUSBMass!SDriver    235.100.2\n|IOSCSIBlockCommandsDevice    482.120.2\n|IO!S!F    2.1\n|IOSCSIArchitectureModel!F    482.120.2\n>!AFDEKeyStore    28.30\n>!AEffaceable!S    1.0\n>!ACyrus    1\n>!AMobileFileIntegrity    1.0.5\n$!AImage4    5.0.0\n@kext.CoreTrust    1\n>!ACredentialManager    1.0\n|CoreAnalytics!F    1\n>KernelRelayHost    1\n|IOUSBHost!F    1.2\n>!UHostMergeProperties    1.2\n>usb.!UCommon    1.0\n>!ABusPower!C    1.0\n>!ASEPManager    1.0.1\n>IOSlaveProcessor    1\n>!AACPIPlatform    6.1\n>!ASMC    3.1.9\n|IOPCI!F    2.9\n|IOACPI!F    1.4\n>watchdog    1\n@kec.pthread    1\n@kec.Libm    1\n@kec.corecrypto    12.0\n\n[/SPOILER]"
        },
        {
            "post_id": 100291,
            "thread_id": 64015,
            "title": "A1990 Constant Kernel Panic: AMDFramebufferVIB::setPowerState",
            "user_id": 682,
            "username": "2informaticos",
            "post_date": "2023-06-28 01:24:38",
            "message": "Probably GPU problem.\nCheck if machine doesn't panic in safe mode.\n\nYou can also check W10 and see if problem appears when GPU driver is installed."
        }
    ]
}